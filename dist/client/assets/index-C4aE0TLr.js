var Ba=Object.defineProperty;var Va=(e,t,r)=>t in e?Ba(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Lr=(e,t,r)=>Va(e,typeof t!="symbol"?t+"":t,r);import{r as p,a as $a,R as B,u as Ua,b as xr,L as lr,O as qa,c as Wa,B as Ha,d as za,e as Oe,N as Ya}from"./react-vendor-Bb0Goubu.js";import{c as Q,a as Ue,b as Ja,u as ye,d as Ce,P as Ga}from"./redux-vendor-CcF8v9AX.js";import{C as Xa,a as Qa,L as Ka,P as Za,b as en,B as tn,A as rn,p as sn,c as an,d as nn,D as on,e as ln}from"./chart-vendor-oJ5imwdZ.js";import{G as cn,V as Re}from"./gantt-vendor-BFpTXmdS.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var vs={exports:{}},_t={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dn=p,un=Symbol.for("react.element"),mn=Symbol.for("react.fragment"),fn=Object.prototype.hasOwnProperty,hn=dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gn={key:!0,ref:!0,__self:!0,__source:!0};function js(e,t,r){var s,n={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)fn.call(t,s)&&!gn.hasOwnProperty(s)&&(n[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)n[s]===void 0&&(n[s]=t[s]);return{$$typeof:un,type:e,key:i,ref:o,props:n,_owner:hn.current}}_t.Fragment=mn;_t.jsx=js;_t.jsxs=js;vs.exports=_t;var a=vs.exports,cr={},Fr=$a;cr.createRoot=Fr.createRoot,cr.hydrateRoot=Fr.hydrateRoot;function ks(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=ks(e[t]))&&(s&&(s+=" "),s+=r);else for(t in e)e[t]&&(s&&(s+=" "),s+=t);return s}function Me(){for(var e,t,r=0,s="";r<arguments.length;)(e=arguments[r++])&&(t=ks(e))&&(s&&(s+=" "),s+=t);return s}const st=e=>typeof e=="number"&&!isNaN(e),Be=e=>typeof e=="string",le=e=>typeof e=="function",vt=e=>Be(e)||le(e)?e:null,er=e=>p.isValidElement(e)||Be(e)||le(e)||st(e);function pn(e,t,r){r===void 0&&(r=300);const{scrollHeight:s,style:n}=e;requestAnimationFrame(()=>{n.minHeight="initial",n.height=s+"px",n.transition=`all ${r}ms`,requestAnimationFrame(()=>{n.height="0",n.padding="0",n.margin="0",setTimeout(t,r)})})}function Lt(e){let{enter:t,exit:r,appendPosition:s=!1,collapse:n=!0,collapseDuration:i=300}=e;return function(o){let{children:l,position:m,preventExitTransition:f,done:u,nodeRef:x,isIn:j}=o;const k=s?`${t}--${m}`:t,d=s?`${r}--${m}`:r,b=p.useRef(0);return p.useLayoutEffect(()=>{const g=x.current,E=k.split(" "),w=O=>{O.target===x.current&&(g.dispatchEvent(new Event("d")),g.removeEventListener("animationend",w),g.removeEventListener("animationcancel",w),b.current===0&&O.type!=="animationcancel"&&g.classList.remove(...E))};g.classList.add(...E),g.addEventListener("animationend",w),g.addEventListener("animationcancel",w)},[]),p.useEffect(()=>{const g=x.current,E=()=>{g.removeEventListener("animationend",E),n?pn(g,u,i):u()};j||(f?E():(b.current=1,g.className+=` ${d}`,g.addEventListener("animationend",E)))},[j]),B.createElement(B.Fragment,null,l)}}function Ir(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const fe={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const r=this.list.get(e).filter(s=>s!==t);return this.list.set(e,r),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const r=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(r)})}},yt=e=>{let{theme:t,type:r,...s}=e;return B.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${r})`,...s})},tr={info:function(e){return B.createElement(yt,{...e},B.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return B.createElement(yt,{...e},B.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return B.createElement(yt,{...e},B.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return B.createElement(yt,{...e},B.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return B.createElement("div",{className:"Toastify__spinner"})}};function yn(e){const[,t]=p.useReducer(k=>k+1,0),[r,s]=p.useState([]),n=p.useRef(null),i=p.useRef(new Map).current,o=k=>r.indexOf(k)!==-1,l=p.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:k=>i.get(k)}).current;function m(k){let{containerId:d}=k;const{limit:b}=l.props;!b||d&&l.containerId!==d||(l.count-=l.queue.length,l.queue=[])}function f(k){s(d=>k==null?[]:d.filter(b=>b!==k))}function u(){const{toastContent:k,toastProps:d,staleId:b}=l.queue.shift();j(k,d,b)}function x(k,d){let{delay:b,staleId:g,...E}=d;if(!er(k)||function(_){return!n.current||l.props.enableMultiContainer&&_.containerId!==l.props.containerId||i.has(_.toastId)&&_.updateId==null}(E))return;const{toastId:w,updateId:O,data:D}=E,{props:A}=l,z=()=>f(w),C=O==null;C&&l.count++;const L={...A,style:A.toastStyle,key:l.toastKey++,...Object.fromEntries(Object.entries(E).filter(_=>{let[I,V]=_;return V!=null})),toastId:w,updateId:O,data:D,closeToast:z,isIn:!1,className:vt(E.className||A.toastClassName),bodyClassName:vt(E.bodyClassName||A.bodyClassName),progressClassName:vt(E.progressClassName||A.progressClassName),autoClose:!E.isLoading&&($=E.autoClose,ne=A.autoClose,$===!1||st($)&&$>0?$:ne),deleteToast(){const _=Ir(i.get(w),"removed");i.delete(w),fe.emit(4,_);const I=l.queue.length;if(l.count=w==null?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),I>0){const V=w==null?l.props.limit:1;if(I===1||V===1)l.displayedToast++,u();else{const G=V>I?I:V;l.displayedToast=G;for(let W=0;W<G;W++)u()}}else t()}};var $,ne;L.iconOut=function(_){let{theme:I,type:V,isLoading:G,icon:W}=_,Z=null;const ue={theme:I,type:V};return W===!1||(le(W)?Z=W(ue):p.isValidElement(W)?Z=p.cloneElement(W,ue):Be(W)||st(W)?Z=W:G?Z=tr.spinner():(he=>he in tr)(V)&&(Z=tr[V](ue))),Z}(L),le(E.onOpen)&&(L.onOpen=E.onOpen),le(E.onClose)&&(L.onClose=E.onClose),L.closeButton=A.closeButton,E.closeButton===!1||er(E.closeButton)?L.closeButton=E.closeButton:E.closeButton===!0&&(L.closeButton=!er(A.closeButton)||A.closeButton);let re=k;p.isValidElement(k)&&!Be(k.type)?re=p.cloneElement(k,{closeToast:z,toastProps:L,data:D}):le(k)&&(re=k({closeToast:z,toastProps:L,data:D})),A.limit&&A.limit>0&&l.count>A.limit&&C?l.queue.push({toastContent:re,toastProps:L,staleId:g}):st(b)?setTimeout(()=>{j(re,L,g)},b):j(re,L,g)}function j(k,d,b){const{toastId:g}=d;b&&i.delete(b);const E={content:k,props:d};i.set(g,E),s(w=>[...w,g].filter(O=>O!==b)),fe.emit(4,Ir(E,E.props.updateId==null?"added":"updated"))}return p.useEffect(()=>(l.containerId=e.containerId,fe.cancelEmit(3).on(0,x).on(1,k=>n.current&&f(k)).on(5,m).emit(2,l),()=>{i.clear(),fe.emit(3,l)}),[]),p.useEffect(()=>{l.props=e,l.isToastActive=o,l.displayedToast=r.length}),{getToastToRender:function(k){const d=new Map,b=Array.from(i.values());return e.newestOnTop&&b.reverse(),b.forEach(g=>{const{position:E}=g.props;d.has(E)||d.set(E,[]),d.get(E).push(g)}),Array.from(d,g=>k(g[0],g[1]))},containerRef:n,isToastActive:o}}function Br(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function Vr(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function xn(e){const[t,r]=p.useState(!1),[s,n]=p.useState(!1),i=p.useRef(null),o=p.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=p.useRef(e),{autoClose:m,pauseOnHover:f,closeToast:u,onClick:x,closeOnClick:j}=e;function k(D){if(e.draggable){D.nativeEvent.type==="touchstart"&&D.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",E),document.addEventListener("mouseup",w),document.addEventListener("touchmove",E),document.addEventListener("touchend",w);const A=i.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=A.getBoundingClientRect(),A.style.transition="",o.x=Br(D.nativeEvent),o.y=Vr(D.nativeEvent),e.draggableDirection==="x"?(o.start=o.x,o.removalDistance=A.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=A.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function d(D){if(o.boundingRect){const{top:A,bottom:z,left:C,right:L}=o.boundingRect;D.nativeEvent.type!=="touchend"&&e.pauseOnHover&&o.x>=C&&o.x<=L&&o.y>=A&&o.y<=z?g():b()}}function b(){r(!0)}function g(){r(!1)}function E(D){const A=i.current;o.canDrag&&A&&(o.didMove=!0,t&&g(),o.x=Br(D),o.y=Vr(D),o.delta=e.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),A.style.transform=`translate${e.draggableDirection}(${o.delta}px)`,A.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function w(){document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",w),document.removeEventListener("touchmove",E),document.removeEventListener("touchend",w);const D=i.current;if(o.canDrag&&o.didMove&&D){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return n(!0),void e.closeToast();D.style.transition="transform 0.2s, opacity 0.2s",D.style.transform=`translate${e.draggableDirection}(0)`,D.style.opacity="1"}}p.useEffect(()=>{l.current=e}),p.useEffect(()=>(i.current&&i.current.addEventListener("d",b,{once:!0}),le(e.onOpen)&&e.onOpen(p.isValidElement(e.children)&&e.children.props),()=>{const D=l.current;le(D.onClose)&&D.onClose(p.isValidElement(D.children)&&D.children.props)}),[]),p.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||g(),window.addEventListener("focus",b),window.addEventListener("blur",g)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",b),window.removeEventListener("blur",g))}),[e.pauseOnFocusLoss]);const O={onMouseDown:k,onTouchStart:k,onMouseUp:d,onTouchEnd:d};return m&&f&&(O.onMouseEnter=g,O.onMouseLeave=b),j&&(O.onClick=D=>{x&&x(D),o.canCloseOnClick&&u()}),{playToast:b,pauseToast:g,isRunning:t,preventExitTransition:s,toastRef:i,eventHandlers:O}}function Ns(e){let{closeToast:t,theme:r,ariaLabel:s="close"}=e;return B.createElement("button",{className:`Toastify__close-button Toastify__close-button--${r}`,type:"button",onClick:n=>{n.stopPropagation(),t(n)},"aria-label":s},B.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},B.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function bn(e){let{delay:t,isRunning:r,closeToast:s,type:n="default",hide:i,className:o,style:l,controlledProgress:m,progress:f,rtl:u,isIn:x,theme:j}=e;const k=i||m&&f===0,d={...l,animationDuration:`${t}ms`,animationPlayState:r?"running":"paused",opacity:k?0:1};m&&(d.transform=`scaleX(${f})`);const b=Me("Toastify__progress-bar",m?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${j}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":u}),g=le(o)?o({rtl:u,type:n,defaultClassName:b}):Me(b,o);return B.createElement("div",{role:"progressbar","aria-hidden":k?"true":"false","aria-label":"notification timer",className:g,style:d,[m&&f>=1?"onTransitionEnd":"onAnimationEnd"]:m&&f<1?null:()=>{x&&s()}})}const wn=e=>{const{isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:n}=xn(e),{closeButton:i,children:o,autoClose:l,onClick:m,type:f,hideProgressBar:u,closeToast:x,transition:j,position:k,className:d,style:b,bodyClassName:g,bodyStyle:E,progressClassName:w,progressStyle:O,updateId:D,role:A,progress:z,rtl:C,toastId:L,deleteToast:$,isIn:ne,isLoading:re,iconOut:_,closeOnClick:I,theme:V}=e,G=Me("Toastify__toast",`Toastify__toast-theme--${V}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":I}),W=le(d)?d({rtl:C,position:k,type:f,defaultClassName:G}):Me(G,d),Z=!!z||!l,ue={closeToast:x,type:f,theme:V};let he=null;return i===!1||(he=le(i)?i(ue):p.isValidElement(i)?p.cloneElement(i,ue):Ns(ue)),B.createElement(j,{isIn:ne,done:$,position:k,preventExitTransition:r,nodeRef:s},B.createElement("div",{id:L,onClick:m,className:W,...n,style:b,ref:s},B.createElement("div",{...ne&&{role:A},className:le(g)?g({type:f}):Me("Toastify__toast-body",g),style:E},_!=null&&B.createElement("div",{className:Me("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!re})},_),B.createElement("div",null,o)),he,B.createElement(bn,{...D&&!Z?{key:`pb-${D}`}:{},rtl:C,theme:V,delay:l,isRunning:t,isIn:ne,closeToast:x,hide:u,type:f,style:O,className:w,controlledProgress:Z,progress:z||0})))},Ft=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},vn=Lt(Ft("bounce",!0));Lt(Ft("slide",!0));Lt(Ft("zoom"));Lt(Ft("flip"));const dr=p.forwardRef((e,t)=>{const{getToastToRender:r,containerRef:s,isToastActive:n}=yn(e),{className:i,style:o,rtl:l,containerId:m}=e;function f(u){const x=Me("Toastify__toast-container",`Toastify__toast-container--${u}`,{"Toastify__toast-container--rtl":l});return le(i)?i({position:u,rtl:l,defaultClassName:x}):Me(x,vt(i))}return p.useEffect(()=>{t&&(t.current=s.current)},[]),B.createElement("div",{ref:s,className:"Toastify",id:m},r((u,x)=>{const j=x.length?{...o}:{...o,pointerEvents:"none"};return B.createElement("div",{className:f(u),style:j,key:`container-${u}`},x.map((k,d)=>{let{content:b,props:g}=k;return B.createElement(wn,{...g,isIn:n(g.toastId),style:{...g.style,"--nth":d+1,"--len":x.length},key:`toast-${g.key}`},b)}))}))});dr.displayName="ToastContainer",dr.defaultProps={position:"top-right",transition:vn,autoClose:5e3,closeButton:Ns,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let rr,Pe=new Map,rt=[],jn=1;function Es(){return""+jn++}function kn(e){return e&&(Be(e.toastId)||st(e.toastId))?e.toastId:Es()}function at(e,t){return Pe.size>0?fe.emit(0,e,t):rt.push({content:e,options:t}),t.toastId}function St(e,t){return{...t,type:t&&t.type||e,toastId:kn(t)}}function xt(e){return(t,r)=>at(t,St(e,r))}function M(e,t){return at(e,St("default",t))}M.loading=(e,t)=>at(e,St("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),M.promise=function(e,t,r){let s,{pending:n,error:i,success:o}=t;n&&(s=Be(n)?M.loading(n,r):M.loading(n.render,{...r,...n}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(u,x,j)=>{if(x==null)return void M.dismiss(s);const k={type:u,...l,...r,data:j},d=Be(x)?{render:x}:x;return s?M.update(s,{...k,...d}):M(d.render,{...k,...d}),j},f=le(e)?e():e;return f.then(u=>m("success",o,u)).catch(u=>m("error",i,u)),f},M.success=xt("success"),M.info=xt("info"),M.error=xt("error"),M.warning=xt("warning"),M.warn=M.warning,M.dark=(e,t)=>at(e,St("default",{theme:"dark",...t})),M.dismiss=e=>{Pe.size>0?fe.emit(1,e):rt=rt.filter(t=>e!=null&&t.options.toastId!==e)},M.clearWaitingQueue=function(e){return e===void 0&&(e={}),fe.emit(5,e)},M.isActive=e=>{let t=!1;return Pe.forEach(r=>{r.isToastActive&&r.isToastActive(e)&&(t=!0)}),t},M.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const r=function(s,n){let{containerId:i}=n;const o=Pe.get(i||rr);return o&&o.getToast(s)}(e,t);if(r){const{props:s,content:n}=r,i={delay:100,...s,...t,toastId:t.toastId||e,updateId:Es()};i.toastId!==e&&(i.staleId=e);const o=i.render||n;delete i.render,at(o,i)}},0)},M.done=e=>{M.update(e,{progress:1})},M.onChange=e=>(fe.on(4,e),()=>{fe.off(4,e)}),M.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},M.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},fe.on(2,e=>{rr=e.containerId||e,Pe.set(rr,e),rt.forEach(t=>{fe.emit(0,t.content,t.options)}),rt=[]}).on(3,e=>{Pe.delete(e.containerId||e),Pe.size===0&&fe.off(0).off(1).off(5)});function Ts(e,t){return function(){return e.apply(t,arguments)}}const{toString:Nn}=Object.prototype,{getPrototypeOf:br}=Object,{iterator:It,toStringTag:Cs}=Symbol,Bt=(e=>t=>{const r=Nn.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),xe=e=>(e=e.toLowerCase(),t=>Bt(t)===e),Vt=e=>t=>typeof t===e,{isArray:Ge}=Array,ct=Vt("undefined");function En(e){return e!==null&&!ct(e)&&e.constructor!==null&&!ct(e.constructor)&&ce(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ss=xe("ArrayBuffer");function Tn(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ss(e.buffer),t}const Cn=Vt("string"),ce=Vt("function"),Os=Vt("number"),$t=e=>e!==null&&typeof e=="object",Sn=e=>e===!0||e===!1,jt=e=>{if(Bt(e)!=="object")return!1;const t=br(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Cs in e)&&!(It in e)},On=xe("Date"),An=xe("File"),Rn=xe("Blob"),Dn=xe("FileList"),Mn=e=>$t(e)&&ce(e.pipe),Pn=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ce(e.append)&&((t=Bt(e))==="formdata"||t==="object"&&ce(e.toString)&&e.toString()==="[object FormData]"))},_n=xe("URLSearchParams"),[Ln,Fn,In,Bn]=["ReadableStream","Request","Response","Headers"].map(xe),Vn=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ut(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,n;if(typeof e!="object"&&(e=[e]),Ge(e))for(s=0,n=e.length;s<n;s++)t.call(null,e[s],s,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(s=0;s<o;s++)l=i[s],t.call(null,e[l],l,e)}}function As(e,t){t=t.toLowerCase();const r=Object.keys(e);let s=r.length,n;for(;s-- >0;)if(n=r[s],t===n.toLowerCase())return n;return null}const Le=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Rs=e=>!ct(e)&&e!==Le;function ur(){const{caseless:e}=Rs(this)&&this||{},t={},r=(s,n)=>{const i=e&&As(t,n)||n;jt(t[i])&&jt(s)?t[i]=ur(t[i],s):jt(s)?t[i]=ur({},s):Ge(s)?t[i]=s.slice():t[i]=s};for(let s=0,n=arguments.length;s<n;s++)arguments[s]&&ut(arguments[s],r);return t}const $n=(e,t,r,{allOwnKeys:s}={})=>(ut(t,(n,i)=>{r&&ce(n)?e[i]=Ts(n,r):e[i]=n},{allOwnKeys:s}),e),Un=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),qn=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Wn=(e,t,r,s)=>{let n,i,o;const l={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)o=n[i],(!s||s(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&br(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Hn=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},zn=e=>{if(!e)return null;if(Ge(e))return e;let t=e.length;if(!Os(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Yn=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&br(Uint8Array)),Jn=(e,t)=>{const s=(e&&e[It]).call(e);let n;for(;(n=s.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},Gn=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},Xn=xe("HTMLFormElement"),Qn=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,n){return s.toUpperCase()+n}),$r=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Kn=xe("RegExp"),Ds=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};ut(r,(n,i)=>{let o;(o=t(n,i,e))!==!1&&(s[i]=o||n)}),Object.defineProperties(e,s)},Zn=e=>{Ds(e,(t,r)=>{if(ce(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(ce(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},ei=(e,t)=>{const r={},s=n=>{n.forEach(i=>{r[i]=!0})};return Ge(e)?s(e):s(String(e).split(t)),r},ti=()=>{},ri=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function si(e){return!!(e&&ce(e.append)&&e[Cs]==="FormData"&&e[It])}const ai=e=>{const t=new Array(10),r=(s,n)=>{if($t(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[n]=s;const i=Ge(s)?[]:{};return ut(s,(o,l)=>{const m=r(o,n+1);!ct(m)&&(i[l]=m)}),t[n]=void 0,i}}return s};return r(e,0)},ni=xe("AsyncFunction"),ii=e=>e&&($t(e)||ce(e))&&ce(e.then)&&ce(e.catch),Ms=((e,t)=>e?setImmediate:t?((r,s)=>(Le.addEventListener("message",({source:n,data:i})=>{n===Le&&i===r&&s.length&&s.shift()()},!1),n=>{s.push(n),Le.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ce(Le.postMessage)),oi=typeof queueMicrotask<"u"?queueMicrotask.bind(Le):typeof process<"u"&&process.nextTick||Ms,li=e=>e!=null&&ce(e[It]),y={isArray:Ge,isArrayBuffer:Ss,isBuffer:En,isFormData:Pn,isArrayBufferView:Tn,isString:Cn,isNumber:Os,isBoolean:Sn,isObject:$t,isPlainObject:jt,isReadableStream:Ln,isRequest:Fn,isResponse:In,isHeaders:Bn,isUndefined:ct,isDate:On,isFile:An,isBlob:Rn,isRegExp:Kn,isFunction:ce,isStream:Mn,isURLSearchParams:_n,isTypedArray:Yn,isFileList:Dn,forEach:ut,merge:ur,extend:$n,trim:Vn,stripBOM:Un,inherits:qn,toFlatObject:Wn,kindOf:Bt,kindOfTest:xe,endsWith:Hn,toArray:zn,forEachEntry:Jn,matchAll:Gn,isHTMLForm:Xn,hasOwnProperty:$r,hasOwnProp:$r,reduceDescriptors:Ds,freezeMethods:Zn,toObjectSet:ei,toCamelCase:Qn,noop:ti,toFiniteNumber:ri,findKey:As,global:Le,isContextDefined:Rs,isSpecCompliantForm:si,toJSONObject:ai,isAsyncFn:ni,isThenable:ii,setImmediate:Ms,asap:oi,isIterable:li};function F(e,t,r,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),n&&(this.response=n,this.status=n.status?n.status:null)}y.inherits(F,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:y.toJSONObject(this.config),code:this.code,status:this.status}}});const Ps=F.prototype,_s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{_s[e]={value:e}});Object.defineProperties(F,_s);Object.defineProperty(Ps,"isAxiosError",{value:!0});F.from=(e,t,r,s,n,i)=>{const o=Object.create(Ps);return y.toFlatObject(e,o,function(m){return m!==Error.prototype},l=>l!=="isAxiosError"),F.call(o,e.message,t,r,s,n),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const ci=null;function mr(e){return y.isPlainObject(e)||y.isArray(e)}function Ls(e){return y.endsWith(e,"[]")?e.slice(0,-2):e}function Ur(e,t,r){return e?e.concat(t).map(function(n,i){return n=Ls(n),!r&&i?"["+n+"]":n}).join(r?".":""):t}function di(e){return y.isArray(e)&&!e.some(mr)}const ui=y.toFlatObject(y,{},null,function(t){return/^is[A-Z]/.test(t)});function Ut(e,t,r){if(!y.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=y.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,g){return!y.isUndefined(g[b])});const s=r.metaTokens,n=r.visitor||u,i=r.dots,o=r.indexes,m=(r.Blob||typeof Blob<"u"&&Blob)&&y.isSpecCompliantForm(t);if(!y.isFunction(n))throw new TypeError("visitor must be a function");function f(d){if(d===null)return"";if(y.isDate(d))return d.toISOString();if(!m&&y.isBlob(d))throw new F("Blob is not supported. Use a Buffer instead.");return y.isArrayBuffer(d)||y.isTypedArray(d)?m&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function u(d,b,g){let E=d;if(d&&!g&&typeof d=="object"){if(y.endsWith(b,"{}"))b=s?b:b.slice(0,-2),d=JSON.stringify(d);else if(y.isArray(d)&&di(d)||(y.isFileList(d)||y.endsWith(b,"[]"))&&(E=y.toArray(d)))return b=Ls(b),E.forEach(function(O,D){!(y.isUndefined(O)||O===null)&&t.append(o===!0?Ur([b],D,i):o===null?b:b+"[]",f(O))}),!1}return mr(d)?!0:(t.append(Ur(g,b,i),f(d)),!1)}const x=[],j=Object.assign(ui,{defaultVisitor:u,convertValue:f,isVisitable:mr});function k(d,b){if(!y.isUndefined(d)){if(x.indexOf(d)!==-1)throw Error("Circular reference detected in "+b.join("."));x.push(d),y.forEach(d,function(E,w){(!(y.isUndefined(E)||E===null)&&n.call(t,E,y.isString(w)?w.trim():w,b,j))===!0&&k(E,b?b.concat(w):[w])}),x.pop()}}if(!y.isObject(e))throw new TypeError("data must be an object");return k(e),t}function qr(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function wr(e,t){this._pairs=[],e&&Ut(e,this,t)}const Fs=wr.prototype;Fs.append=function(t,r){this._pairs.push([t,r])};Fs.toString=function(t){const r=t?function(s){return t.call(this,s,qr)}:qr;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function mi(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Is(e,t,r){if(!t)return e;const s=r&&r.encode||mi;y.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let i;if(n?i=n(t,r):i=y.isURLSearchParams(t)?t.toString():new wr(t,r).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Wr{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){y.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Bs={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fi=typeof URLSearchParams<"u"?URLSearchParams:wr,hi=typeof FormData<"u"?FormData:null,gi=typeof Blob<"u"?Blob:null,pi={isBrowser:!0,classes:{URLSearchParams:fi,FormData:hi,Blob:gi},protocols:["http","https","file","blob","url","data"]},vr=typeof window<"u"&&typeof document<"u",fr=typeof navigator=="object"&&navigator||void 0,yi=vr&&(!fr||["ReactNative","NativeScript","NS"].indexOf(fr.product)<0),xi=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bi=vr&&window.location.href||"http://localhost",wi=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vr,hasStandardBrowserEnv:yi,hasStandardBrowserWebWorkerEnv:xi,navigator:fr,origin:bi},Symbol.toStringTag,{value:"Module"})),ae={...wi,...pi};function vi(e,t){return Ut(e,new ae.classes.URLSearchParams,Object.assign({visitor:function(r,s,n,i){return ae.isNode&&y.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function ji(e){return y.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ki(e){const t={},r=Object.keys(e);let s;const n=r.length;let i;for(s=0;s<n;s++)i=r[s],t[i]=e[i];return t}function Vs(e){function t(r,s,n,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),m=i>=r.length;return o=!o&&y.isArray(n)?n.length:o,m?(y.hasOwnProp(n,o)?n[o]=[n[o],s]:n[o]=s,!l):((!n[o]||!y.isObject(n[o]))&&(n[o]=[]),t(r,s,n[o],i)&&y.isArray(n[o])&&(n[o]=ki(n[o])),!l)}if(y.isFormData(e)&&y.isFunction(e.entries)){const r={};return y.forEachEntry(e,(s,n)=>{t(ji(s),n,r,0)}),r}return null}function Ni(e,t,r){if(y.isString(e))try{return(t||JSON.parse)(e),y.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const mt={transitional:Bs,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",n=s.indexOf("application/json")>-1,i=y.isObject(t);if(i&&y.isHTMLForm(t)&&(t=new FormData(t)),y.isFormData(t))return n?JSON.stringify(Vs(t)):t;if(y.isArrayBuffer(t)||y.isBuffer(t)||y.isStream(t)||y.isFile(t)||y.isBlob(t)||y.isReadableStream(t))return t;if(y.isArrayBufferView(t))return t.buffer;if(y.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return vi(t,this.formSerializer).toString();if((l=y.isFileList(t))||s.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Ut(l?{"files[]":t}:t,m&&new m,this.formSerializer)}}return i||n?(r.setContentType("application/json",!1),Ni(t)):t}],transformResponse:[function(t){const r=this.transitional||mt.transitional,s=r&&r.forcedJSONParsing,n=this.responseType==="json";if(y.isResponse(t)||y.isReadableStream(t))return t;if(t&&y.isString(t)&&(s&&!this.responseType||n)){const o=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?F.from(l,F.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ae.classes.FormData,Blob:ae.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};y.forEach(["delete","get","head","post","put","patch"],e=>{mt.headers[e]={}});const Ei=y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ti=e=>{const t={};let r,s,n;return e&&e.split(`
`).forEach(function(o){n=o.indexOf(":"),r=o.substring(0,n).trim().toLowerCase(),s=o.substring(n+1).trim(),!(!r||t[r]&&Ei[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},Hr=Symbol("internals");function Ze(e){return e&&String(e).trim().toLowerCase()}function kt(e){return e===!1||e==null?e:y.isArray(e)?e.map(kt):String(e)}function Ci(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const Si=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function sr(e,t,r,s,n){if(y.isFunction(s))return s.call(this,t,r);if(n&&(t=r),!!y.isString(t)){if(y.isString(s))return t.indexOf(s)!==-1;if(y.isRegExp(s))return s.test(t)}}function Oi(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function Ai(e,t){const r=y.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(n,i,o){return this[s].call(this,t,n,i,o)},configurable:!0})})}let de=class{constructor(t){t&&this.set(t)}set(t,r,s){const n=this;function i(l,m,f){const u=Ze(m);if(!u)throw new Error("header name must be a non-empty string");const x=y.findKey(n,u);(!x||n[x]===void 0||f===!0||f===void 0&&n[x]!==!1)&&(n[x||m]=kt(l))}const o=(l,m)=>y.forEach(l,(f,u)=>i(f,u,m));if(y.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(y.isString(t)&&(t=t.trim())&&!Si(t))o(Ti(t),r);else if(y.isObject(t)&&y.isIterable(t)){let l={},m,f;for(const u of t){if(!y.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[f=u[0]]=(m=l[f])?y.isArray(m)?[...m,u[1]]:[m,u[1]]:u[1]}o(l,r)}else t!=null&&i(r,t,s);return this}get(t,r){if(t=Ze(t),t){const s=y.findKey(this,t);if(s){const n=this[s];if(!r)return n;if(r===!0)return Ci(n);if(y.isFunction(r))return r.call(this,n,s);if(y.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Ze(t),t){const s=y.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||sr(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let n=!1;function i(o){if(o=Ze(o),o){const l=y.findKey(s,o);l&&(!r||sr(s,s[l],l,r))&&(delete s[l],n=!0)}}return y.isArray(t)?t.forEach(i):i(t),n}clear(t){const r=Object.keys(this);let s=r.length,n=!1;for(;s--;){const i=r[s];(!t||sr(this,this[i],i,t,!0))&&(delete this[i],n=!0)}return n}normalize(t){const r=this,s={};return y.forEach(this,(n,i)=>{const o=y.findKey(s,i);if(o){r[o]=kt(n),delete r[i];return}const l=t?Oi(i):String(i).trim();l!==i&&delete r[i],r[l]=kt(n),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return y.forEach(this,(s,n)=>{s!=null&&s!==!1&&(r[n]=t&&y.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(n=>s.set(n)),s}static accessor(t){const s=(this[Hr]=this[Hr]={accessors:{}}).accessors,n=this.prototype;function i(o){const l=Ze(o);s[l]||(Ai(n,o),s[l]=!0)}return y.isArray(t)?t.forEach(i):i(t),this}};de.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);y.reduceDescriptors(de.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});y.freezeMethods(de);function ar(e,t){const r=this||mt,s=t||r,n=de.from(s.headers);let i=s.data;return y.forEach(e,function(l){i=l.call(r,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function $s(e){return!!(e&&e.__CANCEL__)}function Xe(e,t,r){F.call(this,e??"canceled",F.ERR_CANCELED,t,r),this.name="CanceledError"}y.inherits(Xe,F,{__CANCEL__:!0});function Us(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new F("Request failed with status code "+r.status,[F.ERR_BAD_REQUEST,F.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Ri(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Di(e,t){e=e||10;const r=new Array(e),s=new Array(e);let n=0,i=0,o;return t=t!==void 0?t:1e3,function(m){const f=Date.now(),u=s[i];o||(o=f),r[n]=m,s[n]=f;let x=i,j=0;for(;x!==n;)j+=r[x++],x=x%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),f-o<t)return;const k=u&&f-u;return k?Math.round(j*1e3/k):void 0}}function Mi(e,t){let r=0,s=1e3/t,n,i;const o=(f,u=Date.now())=>{r=u,n=null,i&&(clearTimeout(i),i=null),e.apply(null,f)};return[(...f)=>{const u=Date.now(),x=u-r;x>=s?o(f,u):(n=f,i||(i=setTimeout(()=>{i=null,o(n)},s-x)))},()=>n&&o(n)]}const Ot=(e,t,r=3)=>{let s=0;const n=Di(50,250);return Mi(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,m=o-s,f=n(m),u=o<=l;s=o;const x={loaded:o,total:l,progress:l?o/l:void 0,bytes:m,rate:f||void 0,estimated:f&&l&&u?(l-o)/f:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(x)},r)},zr=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},Yr=e=>(...t)=>y.asap(()=>e(...t)),Pi=ae.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,ae.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(ae.origin),ae.navigator&&/(msie|trident)/i.test(ae.navigator.userAgent)):()=>!0,_i=ae.hasStandardBrowserEnv?{write(e,t,r,s,n,i){const o=[e+"="+encodeURIComponent(t)];y.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),y.isString(s)&&o.push("path="+s),y.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Li(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Fi(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function qs(e,t,r){let s=!Li(t);return e&&(s||r==!1)?Fi(e,t):t}const Jr=e=>e instanceof de?{...e}:e;function Ve(e,t){t=t||{};const r={};function s(f,u,x,j){return y.isPlainObject(f)&&y.isPlainObject(u)?y.merge.call({caseless:j},f,u):y.isPlainObject(u)?y.merge({},u):y.isArray(u)?u.slice():u}function n(f,u,x,j){if(y.isUndefined(u)){if(!y.isUndefined(f))return s(void 0,f,x,j)}else return s(f,u,x,j)}function i(f,u){if(!y.isUndefined(u))return s(void 0,u)}function o(f,u){if(y.isUndefined(u)){if(!y.isUndefined(f))return s(void 0,f)}else return s(void 0,u)}function l(f,u,x){if(x in t)return s(f,u);if(x in e)return s(void 0,f)}const m={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(f,u,x)=>n(Jr(f),Jr(u),x,!0)};return y.forEach(Object.keys(Object.assign({},e,t)),function(u){const x=m[u]||n,j=x(e[u],t[u],u);y.isUndefined(j)&&x!==l||(r[u]=j)}),r}const Ws=e=>{const t=Ve({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=t;t.headers=o=de.from(o),t.url=Is(qs(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let m;if(y.isFormData(r)){if(ae.hasStandardBrowserEnv||ae.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((m=o.getContentType())!==!1){const[f,...u]=m?m.split(";").map(x=>x.trim()).filter(Boolean):[];o.setContentType([f||"multipart/form-data",...u].join("; "))}}if(ae.hasStandardBrowserEnv&&(s&&y.isFunction(s)&&(s=s(t)),s||s!==!1&&Pi(t.url))){const f=n&&i&&_i.read(i);f&&o.set(n,f)}return t},Ii=typeof XMLHttpRequest<"u",Bi=Ii&&function(e){return new Promise(function(r,s){const n=Ws(e);let i=n.data;const o=de.from(n.headers).normalize();let{responseType:l,onUploadProgress:m,onDownloadProgress:f}=n,u,x,j,k,d;function b(){k&&k(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(n.method.toUpperCase(),n.url,!0),g.timeout=n.timeout;function E(){if(!g)return;const O=de.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),A={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:O,config:e,request:g};Us(function(C){r(C),b()},function(C){s(C),b()},A),g=null}"onloadend"in g?g.onloadend=E:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(E)},g.onabort=function(){g&&(s(new F("Request aborted",F.ECONNABORTED,e,g)),g=null)},g.onerror=function(){s(new F("Network Error",F.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let D=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const A=n.transitional||Bs;n.timeoutErrorMessage&&(D=n.timeoutErrorMessage),s(new F(D,A.clarifyTimeoutError?F.ETIMEDOUT:F.ECONNABORTED,e,g)),g=null},i===void 0&&o.setContentType(null),"setRequestHeader"in g&&y.forEach(o.toJSON(),function(D,A){g.setRequestHeader(A,D)}),y.isUndefined(n.withCredentials)||(g.withCredentials=!!n.withCredentials),l&&l!=="json"&&(g.responseType=n.responseType),f&&([j,d]=Ot(f,!0),g.addEventListener("progress",j)),m&&g.upload&&([x,k]=Ot(m),g.upload.addEventListener("progress",x),g.upload.addEventListener("loadend",k)),(n.cancelToken||n.signal)&&(u=O=>{g&&(s(!O||O.type?new Xe(null,e,g):O),g.abort(),g=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const w=Ri(n.url);if(w&&ae.protocols.indexOf(w)===-1){s(new F("Unsupported protocol "+w+":",F.ERR_BAD_REQUEST,e));return}g.send(i||null)})},Vi=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,n;const i=function(f){if(!n){n=!0,l();const u=f instanceof Error?f:this.reason;s.abort(u instanceof F?u:new Xe(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new F(`timeout ${t} of ms exceeded`,F.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),e=null)};e.forEach(f=>f.addEventListener("abort",i));const{signal:m}=s;return m.unsubscribe=()=>y.asap(l),m}},$i=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,n;for(;s<r;)n=s+t,yield e.slice(s,n),s=n},Ui=async function*(e,t){for await(const r of qi(e))yield*$i(r,t)},qi=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},Gr=(e,t,r,s)=>{const n=Ui(e,t);let i=0,o,l=m=>{o||(o=!0,s&&s(m))};return new ReadableStream({async pull(m){try{const{done:f,value:u}=await n.next();if(f){l(),m.close();return}let x=u.byteLength;if(r){let j=i+=x;r(j)}m.enqueue(new Uint8Array(u))}catch(f){throw l(f),f}},cancel(m){return l(m),n.return()}},{highWaterMark:2})},qt=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Hs=qt&&typeof ReadableStream=="function",Wi=qt&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),zs=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Hi=Hs&&zs(()=>{let e=!1;const t=new Request(ae.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Xr=64*1024,hr=Hs&&zs(()=>y.isReadableStream(new Response("").body)),At={stream:hr&&(e=>e.body)};qt&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!At[t]&&(At[t]=y.isFunction(e[t])?r=>r[t]():(r,s)=>{throw new F(`Response type '${t}' is not supported`,F.ERR_NOT_SUPPORT,s)})})})(new Response);const zi=async e=>{if(e==null)return 0;if(y.isBlob(e))return e.size;if(y.isSpecCompliantForm(e))return(await new Request(ae.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(y.isArrayBufferView(e)||y.isArrayBuffer(e))return e.byteLength;if(y.isURLSearchParams(e)&&(e=e+""),y.isString(e))return(await Wi(e)).byteLength},Yi=async(e,t)=>{const r=y.toFiniteNumber(e.getContentLength());return r??zi(t)},Ji=qt&&(async e=>{let{url:t,method:r,data:s,signal:n,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:m,responseType:f,headers:u,withCredentials:x="same-origin",fetchOptions:j}=Ws(e);f=f?(f+"").toLowerCase():"text";let k=Vi([n,i&&i.toAbortSignal()],o),d;const b=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let g;try{if(m&&Hi&&r!=="get"&&r!=="head"&&(g=await Yi(u,s))!==0){let A=new Request(t,{method:"POST",body:s,duplex:"half"}),z;if(y.isFormData(s)&&(z=A.headers.get("content-type"))&&u.setContentType(z),A.body){const[C,L]=zr(g,Ot(Yr(m)));s=Gr(A.body,Xr,C,L)}}y.isString(x)||(x=x?"include":"omit");const E="credentials"in Request.prototype;d=new Request(t,{...j,signal:k,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:E?x:void 0});let w=await fetch(d);const O=hr&&(f==="stream"||f==="response");if(hr&&(l||O&&b)){const A={};["status","statusText","headers"].forEach($=>{A[$]=w[$]});const z=y.toFiniteNumber(w.headers.get("content-length")),[C,L]=l&&zr(z,Ot(Yr(l),!0))||[];w=new Response(Gr(w.body,Xr,C,()=>{L&&L(),b&&b()}),A)}f=f||"text";let D=await At[y.findKey(At,f)||"text"](w,e);return!O&&b&&b(),await new Promise((A,z)=>{Us(A,z,{data:D,headers:de.from(w.headers),status:w.status,statusText:w.statusText,config:e,request:d})})}catch(E){throw b&&b(),E&&E.name==="TypeError"&&/Load failed|fetch/i.test(E.message)?Object.assign(new F("Network Error",F.ERR_NETWORK,e,d),{cause:E.cause||E}):F.from(E,E&&E.code,e,d)}}),gr={http:ci,xhr:Bi,fetch:Ji};y.forEach(gr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Qr=e=>`- ${e}`,Gi=e=>y.isFunction(e)||e===null||e===!1,Ys={getAdapter:e=>{e=y.isArray(e)?e:[e];const{length:t}=e;let r,s;const n={};for(let i=0;i<t;i++){r=e[i];let o;if(s=r,!Gi(r)&&(s=gr[(o=String(r)).toLowerCase()],s===void 0))throw new F(`Unknown adapter '${o}'`);if(s)break;n[o||"#"+i]=s}if(!s){const i=Object.entries(n).map(([l,m])=>`adapter ${l} `+(m===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(Qr).join(`
`):" "+Qr(i[0]):"as no adapter specified";throw new F("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:gr};function nr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Xe(null,e)}function Kr(e){return nr(e),e.headers=de.from(e.headers),e.data=ar.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ys.getAdapter(e.adapter||mt.adapter)(e).then(function(s){return nr(e),s.data=ar.call(e,e.transformResponse,s),s.headers=de.from(s.headers),s},function(s){return $s(s)||(nr(e),s&&s.response&&(s.response.data=ar.call(e,e.transformResponse,s.response),s.response.headers=de.from(s.response.headers))),Promise.reject(s)})}const Js="1.9.0",Wt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Wt[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Zr={};Wt.transitional=function(t,r,s){function n(i,o){return"[Axios v"+Js+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(t===!1)throw new F(n(o," has been removed"+(r?" in "+r:"")),F.ERR_DEPRECATED);return r&&!Zr[o]&&(Zr[o]=!0,console.warn(n(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};Wt.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Xi(e,t,r){if(typeof e!="object")throw new F("options must be an object",F.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let n=s.length;for(;n-- >0;){const i=s[n],o=t[i];if(o){const l=e[i],m=l===void 0||o(l,i,e);if(m!==!0)throw new F("option "+i+" must be "+m,F.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new F("Unknown option "+i,F.ERR_BAD_OPTION)}}const Nt={assertOptions:Xi,validators:Wt},we=Nt.validators;let Ie=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Wr,response:new Wr}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ve(this.defaults,r);const{transitional:s,paramsSerializer:n,headers:i}=r;s!==void 0&&Nt.assertOptions(s,{silentJSONParsing:we.transitional(we.boolean),forcedJSONParsing:we.transitional(we.boolean),clarifyTimeoutError:we.transitional(we.boolean)},!1),n!=null&&(y.isFunction(n)?r.paramsSerializer={serialize:n}:Nt.assertOptions(n,{encode:we.function,serialize:we.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Nt.assertOptions(r,{baseUrl:we.spelling("baseURL"),withXsrfToken:we.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&y.merge(i.common,i[r.method]);i&&y.forEach(["delete","get","head","post","put","patch","common"],d=>{delete i[d]}),r.headers=de.concat(o,i);const l=[];let m=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(m=m&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const f=[];this.interceptors.response.forEach(function(b){f.push(b.fulfilled,b.rejected)});let u,x=0,j;if(!m){const d=[Kr.bind(this),void 0];for(d.unshift.apply(d,l),d.push.apply(d,f),j=d.length,u=Promise.resolve(r);x<j;)u=u.then(d[x++],d[x++]);return u}j=l.length;let k=r;for(x=0;x<j;){const d=l[x++],b=l[x++];try{k=d(k)}catch(g){b.call(this,g);break}}try{u=Kr.call(this,k)}catch(d){return Promise.reject(d)}for(x=0,j=f.length;x<j;)u=u.then(f[x++],f[x++]);return u}getUri(t){t=Ve(this.defaults,t);const r=qs(t.baseURL,t.url,t.allowAbsoluteUrls);return Is(r,t.params,t.paramsSerializer)}};y.forEach(["delete","get","head","options"],function(t){Ie.prototype[t]=function(r,s){return this.request(Ve(s||{},{method:t,url:r,data:(s||{}).data}))}});y.forEach(["post","put","patch"],function(t){function r(s){return function(i,o,l){return this.request(Ve(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Ie.prototype[t]=r(),Ie.prototype[t+"Form"]=r(!0)});let Qi=class Gs{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const s=this;this.promise.then(n=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](n);s._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(n);return o.cancel=function(){s.unsubscribe(i)},o},t(function(i,o,l){s.reason||(s.reason=new Xe(i,o,l),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Gs(function(n){t=n}),cancel:t}}};function Ki(e){return function(r){return e.apply(null,r)}}function Zi(e){return y.isObject(e)&&e.isAxiosError===!0}const pr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pr).forEach(([e,t])=>{pr[t]=e});function Xs(e){const t=new Ie(e),r=Ts(Ie.prototype.request,t);return y.extend(r,Ie.prototype,t,{allOwnKeys:!0}),y.extend(r,t,null,{allOwnKeys:!0}),r.create=function(n){return Xs(Ve(e,n))},r}const X=Xs(mt);X.Axios=Ie;X.CanceledError=Xe;X.CancelToken=Qi;X.isCancel=$s;X.VERSION=Js;X.toFormData=Ut;X.AxiosError=F;X.Cancel=X.CanceledError;X.all=function(t){return Promise.all(t)};X.spread=Ki;X.isAxiosError=Zi;X.mergeConfig=Ve;X.AxiosHeaders=de;X.formToJSON=e=>Vs(y.isHTMLForm(e)?new FormData(e):e);X.getAdapter=Ys.getAdapter;X.HttpStatusCode=pr;X.default=X;const{Axios:Cd,AxiosError:Sd,CanceledError:Od,isCancel:Ad,CancelToken:Rd,VERSION:Dd,all:Md,Cancel:Pd,isAxiosError:_d,spread:Ld,toFormData:Fd,AxiosHeaders:Id,HttpStatusCode:Bd,formToJSON:Vd,getAdapter:$d,mergeConfig:Ud}=X,eo={user:null,accessToken:localStorage.getItem("accessToken"),refreshToken:localStorage.getItem("refreshToken"),isAuthenticated:!!localStorage.getItem("accessToken"),loading:!1,error:null},Et=Q("auth/login",async({email:e,password:t})=>(await X.post("/api/auth/login",{email:e,password:t})).data),Qs=Q("auth/logout",async()=>{const e=localStorage.getItem("refreshToken");await X.post("/api/auth/logout",{refreshToken:e}),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")}),Ks=Ue({name:"auth",initialState:eo,reducers:{updateUser:(e,t)=>{e.user&&(e.user={...e.user,...t.payload})}},extraReducers:e=>{e.addCase(Et.pending,t=>{t.loading=!0,t.error=null}).addCase(Et.fulfilled,(t,r)=>{t.loading=!1,t.user=r.payload.user,t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,t.isAuthenticated=!0,localStorage.setItem("accessToken",r.payload.accessToken),localStorage.setItem("refreshToken",r.payload.refreshToken)}).addCase(Et.rejected,(t,r)=>{t.loading=!1,t.error=r.error.message||"Erreur de connexion"}).addCase(Qs.fulfilled,t=>{t.user=null,t.accessToken=null,t.refreshToken=null,t.isAuthenticated=!1})}}),{updateUser:qd}=Ks.actions,to=Ks.reducer,J=X.create({baseURL:""});J.interceptors.request.use(e=>{const t=ma.getState().auth.accessToken;return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));J.interceptors.response.use(e=>e,async e=>{var r,s,n,i,o,l;console.error("API Error:",((r=e.response)==null?void 0:r.data)||e.message),((s=e.response)==null?void 0:s.status)===401&&(window.location.pathname.includes("/login")||(window.location.href="/login"));const t=((i=(n=e.response)==null?void 0:n.data)==null?void 0:i.error)||((l=(o=e.response)==null?void 0:o.data)==null?void 0:l.message)||e.message;return Promise.reject(new Error(t))});const ro={users:[],loading:!1,error:null},nt=Q("users/fetchAll",async()=>(await J.get("/api/users")).data),Zs=Q("users/create",async e=>(await J.post("/api/users",e)).data),ea=Q("users/update",async({id:e,...t})=>(await J.put(`/api/users/${e}`,t)).data),ta=Q("users/delete",async e=>(await J.delete(`/api/users/${e}`),e)),so=Ue({name:"users",initialState:ro,reducers:{},extraReducers:e=>{e.addCase(nt.pending,t=>{t.loading=!0,t.error=null}).addCase(nt.fulfilled,(t,r)=>{t.loading=!1,t.users=Array.isArray(r.payload)?r.payload:[]}).addCase(nt.rejected,(t,r)=>{t.loading=!1,t.error=r.error.message||"Erreur",t.users=[]}).addCase(Zs.fulfilled,(t,r)=>{t.users.push(r.payload)}).addCase(ea.fulfilled,(t,r)=>{const s=t.users.findIndex(n=>n.id===r.payload.id);s!==-1&&(t.users[s]=r.payload)}).addCase(ta.fulfilled,(t,r)=>{t.users=t.users.filter(s=>s.id!==r.payload)})}}),ao=so.reducer,no={clients:[],currentClient:null,loading:!1,error:null},He=Q("clients/fetchAll",async()=>(await J.get("/api/clients")).data),ra=Q("clients/create",async e=>(await J.post("/api/clients",e)).data),sa=Q("clients/update",async({id:e,...t})=>(await J.put(`/api/clients/${e}`,t)).data),aa=Q("clients/delete",async e=>(await J.delete(`/api/clients/${e}`),e)),io=Ue({name:"clients",initialState:no,reducers:{},extraReducers:e=>{e.addCase(He.pending,t=>{t.loading=!0,t.error=null}).addCase(He.fulfilled,(t,r)=>{t.loading=!1,t.clients=Array.isArray(r.payload)?r.payload:[]}).addCase(He.rejected,(t,r)=>{t.loading=!1,t.error=r.error.message||"Erreur",t.clients=[]}).addCase(ra.fulfilled,(t,r)=>{t.clients.push(r.payload)}).addCase(sa.fulfilled,(t,r)=>{const s=t.clients.findIndex(n=>n.id===r.payload.id);s!==-1&&(t.clients[s]=r.payload)}).addCase(aa.fulfilled,(t,r)=>{t.clients=t.clients.filter(s=>s.id!==r.payload)})}}),oo=io.reducer,lo={projects:[],currentProject:null,loading:!1,error:null},ze=Q("projects/fetchAll",async()=>(await J.get("/api/projects")).data),Te=Q("projects/fetchById",async e=>(await J.get(`/api/projects/${e}`)).data),co=Q("projects/createTask",async e=>(await J.post("/api/tasks",e)).data),ir=Q("projects/updateTask",async({projectId:e,taskId:t,data:r})=>(await J.put(`/api/tasks/${t}`,r)).data),uo=Q("projects/deleteTask",async({projectId:e,taskId:t})=>(await J.delete(`/api/tasks/${t}`),t)),na=Q("projects/create",async e=>(await J.post("/api/projects",e)).data),ia=Q("projects/update",async({id:e,...t})=>(await J.put(`/api/projects/${e}`,t)).data),oa=Q("projects/delete",async e=>(await J.delete(`/api/projects/${e}`),e)),mo=Ue({name:"projects",initialState:lo,reducers:{},extraReducers:e=>{e.addCase(ze.pending,t=>{t.loading=!0,t.error=null}).addCase(ze.fulfilled,(t,r)=>{t.loading=!1,t.projects=Array.isArray(r.payload)?r.payload:[]}).addCase(ze.rejected,(t,r)=>{t.loading=!1,t.error=r.error.message||"Erreur",t.projects=[]}).addCase(na.fulfilled,(t,r)=>{t.projects.push(r.payload)}).addCase(ia.fulfilled,(t,r)=>{const s=t.projects.findIndex(n=>n.id===r.payload.id);s!==-1&&(t.projects[s]=r.payload)}).addCase(oa.fulfilled,(t,r)=>{t.projects=t.projects.filter(s=>s.id!==r.payload)}).addCase(Te.pending,t=>{t.loading=!0}).addCase(Te.fulfilled,(t,r)=>{t.loading=!1,t.currentProject=r.payload}).addCase(Te.rejected,(t,r)=>{t.loading=!1,t.error=r.error.message||"Erreur"})}}),fo=mo.reducer,ho={notes:[],loading:!1,error:null},Tt=Q("notes/fetchAll",async()=>(await J.get("/api/notes")).data),la=Q("notes/create",async e=>(await J.post("/api/notes",e)).data),ca=Q("notes/update",async({id:e,...t})=>(await J.put(`/api/notes/${e}`,t)).data),da=Q("notes/delete",async e=>(await J.delete(`/api/notes/${e}`),e)),go=Ue({name:"notes",initialState:ho,reducers:{},extraReducers:e=>{e.addCase(Tt.pending,t=>{t.loading=!0,t.error=null}).addCase(Tt.fulfilled,(t,r)=>{t.loading=!1,t.notes=Array.isArray(r.payload)?r.payload:[]}).addCase(Tt.rejected,(t,r)=>{t.loading=!1,t.error=r.error.message||"Erreur",t.notes=[]}).addCase(la.fulfilled,(t,r)=>{t.notes.unshift(r.payload)}).addCase(ca.fulfilled,(t,r)=>{const s=t.notes.findIndex(n=>n.id===r.payload.id);s!==-1&&(t.notes[s]=r.payload)}).addCase(da.fulfilled,(t,r)=>{t.notes=t.notes.filter(s=>s.id!==r.payload)})}}),po=go.reducer,bt={stats:{totalUsers:0,totalClients:0,activeProjects:0,completedTasks:0,userGrowth:0,clientGrowth:0,projectGrowth:0,taskCompletionRate:0,projectsByStatus:{PLANNING:0,ACTIVE:0,ON_HOLD:0,COMPLETED:0,CANCELLED:0},taskCompletionTrend:[]},recentActivities:[],loading:!1,error:null},it=Q("dashboard/fetchData",async()=>{const[e,t]=await Promise.all([J.get("/api/dashboard/stats"),J.get("/api/dashboard/activities")]);return{stats:e.data,activities:t.data}}),yo=Ue({name:"dashboard",initialState:bt,reducers:{},extraReducers:e=>{e.addCase(it.pending,t=>{t.loading=!0,t.error=null}).addCase(it.fulfilled,(t,r)=>{t.loading=!1,t.stats={...bt.stats,...r.payload.stats,projectsByStatus:{...bt.stats.projectsByStatus,...r.payload.stats.projectsByStatus||{}}},t.recentActivities=Array.isArray(r.payload.activities)?r.payload.activities:[]}).addCase(it.rejected,(t,r)=>{t.loading=!1,t.error=r.error.message||"Erreur lors du chargement",t.stats=bt.stats,t.recentActivities=[]})}}),xo=yo.reducer,bo={darkMode:localStorage.getItem("darkMode")==="true"},ua=Ue({name:"theme",initialState:bo,reducers:{toggleTheme:e=>{e.darkMode=!e.darkMode,localStorage.setItem("darkMode",String(e.darkMode)),e.darkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},setTheme:(e,t)=>{e.darkMode=t.payload,localStorage.setItem("darkMode",String(t.payload)),t.payload?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}}}),{toggleTheme:wo,setTheme:Wd}=ua.actions,vo=ua.reducer,ma=Ja({reducer:{auth:to,users:ao,clients:oo,projects:fo,notes:po,dashboard:xo,theme:vo}}),jo=()=>{const{user:e,isAuthenticated:t,loading:r}=ye(s=>s.auth);return{user:e,isAuthenticated:t,loading:r,isAdmin:(e==null?void 0:e.role)==="ADMIN",isProjectManager:(e==null?void 0:e.role)==="PROJECT_MANAGER"||(e==null?void 0:e.role)==="ADMIN"}};function ko({title:e,titleId:t,...r},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const No=p.forwardRef(ko);function Eo({title:e,titleId:t,...r},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const To=p.forwardRef(Eo);function Co({title:e,titleId:t,...r},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const So=p.forwardRef(Co);function Oo({title:e,titleId:t,...r},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const fa=p.forwardRef(Oo);function Ao({title:e,titleId:t,...r},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const ha=p.forwardRef(Ao);function Ro({title:e,titleId:t,...r},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Do=p.forwardRef(Ro);function Mo({title:e,titleId:t,...r},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Po=p.forwardRef(Mo);function _o({title:e,titleId:t,...r},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Lo=p.forwardRef(_o);function Fo({title:e,titleId:t,...r},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const ga=p.forwardRef(Fo);function Io({title:e,titleId:t,...r},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Bo=p.forwardRef(Io);function Vo({title:e,titleId:t,...r},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const $o=p.forwardRef(Vo);function Uo({title:e,titleId:t,...r},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Ht=p.forwardRef(Uo);function qo({title:e,titleId:t,...r},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Je=p.forwardRef(qo);function Wo({title:e,titleId:t,...r},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const Ho=p.forwardRef(Wo);function zo({title:e,titleId:t,...r},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const Yo=p.forwardRef(zo);function Jo({title:e,titleId:t,...r},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const ft=p.forwardRef(Jo);function Go({title:e,titleId:t,...r},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const zt=p.forwardRef(Go);function Xo({title:e,titleId:t,...r},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Qe=p.forwardRef(Xo),es=[{name:"Dashboard",href:"/",icon:Bo},{name:"Utilisateurs",href:"/users",icon:zt},{name:"Clients",href:"/clients",icon:fa},{name:"Projets",href:"/projects",icon:ga},{name:"Notes",href:"/notes",icon:Lo}],Qo=()=>{const[e,t]=p.useState(!1),r=Ua(),s=xr(),n=Ce(),{user:i}=ye(m=>m.auth),{darkMode:o}=ye(m=>m.theme);p.useEffect(()=>{o?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[o]);const l=async()=>{try{await n(Qs()).unwrap(),s("/login")}catch(m){console.error("Logout error:",m),s("/login")}};return a.jsx("div",{className:`${o?"dark":""}`,children:a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${e?"":"hidden"}`,children:[a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>t(!1)}),a.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white dark:bg-gray-800",children:[a.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Gestion Projet"}),a.jsx("button",{onClick:()=>t(!1),className:"text-gray-500 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300",children:a.jsx(Qe,{className:"h-6 w-6"})})]}),a.jsx("nav",{className:"flex-1 space-y-1 px-2 py-4",children:es.map(m=>{const f=r.pathname===m.href;return a.jsxs(lr,{to:m.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md ${f?"bg-primary-100 text-primary-700 dark:bg-primary-900 dark:text-primary-200":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white"}`,children:[a.jsx(m.icon,{className:`mr-3 h-6 w-6 ${f?"text-primary-600 dark:text-primary-400":"text-gray-400 group-hover:text-gray-500 dark:text-gray-500 dark:group-hover:text-gray-400"}`}),m.name]},m.name)})})]})]}),a.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:a.jsxs("div",{className:"flex min-h-0 flex-1 flex-col bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700",children:[a.jsx("div",{className:"flex h-16 items-center px-4",children:a.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Gestion Projet"})}),a.jsx("nav",{className:"flex-1 space-y-1 px-2 py-4",children:es.map(m=>{const f=r.pathname===m.href;return a.jsxs(lr,{to:m.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md ${f?"bg-primary-100 text-primary-700 dark:bg-primary-900 dark:text-primary-200":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white"}`,children:[a.jsx(m.icon,{className:`mr-3 h-6 w-6 ${f?"text-primary-600 dark:text-primary-400":"text-gray-400 group-hover:text-gray-500 dark:text-gray-500 dark:group-hover:text-gray-400"}`}),m.name]},m.name)})})]})}),a.jsxs("div",{className:"lg:pl-64",children:[a.jsxs("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[a.jsx("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 dark:text-gray-200 lg:hidden",onClick:()=>t(!0),children:a.jsx(So,{className:"h-6 w-6"})}),a.jsxs("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[a.jsx("div",{className:"flex flex-1"}),a.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[a.jsx("button",{onClick:()=>n(wo()),className:"p-2 text-gray-500 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300",children:o?a.jsx(Ho,{className:"h-6 w-6"}):a.jsx($o,{className:"h-6 w-6"})}),a.jsxs("div",{className:"flex items-center gap-x-4",children:[a.jsxs("div",{className:"hidden sm:block",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[i==null?void 0:i.firstName," ",i==null?void 0:i.lastName]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:i==null?void 0:i.role})]}),a.jsx("button",{onClick:l,className:"p-2 text-gray-500 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300",children:a.jsx(To,{className:"h-6 w-6"})})]})]})]})]}),a.jsx("main",{className:"py-10",children:a.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:a.jsx(qa,{})})})]})]})})};var ht=e=>e.type==="checkbox",Fe=e=>e instanceof Date,ie=e=>e==null;const pa=e=>typeof e=="object";var K=e=>!ie(e)&&!Array.isArray(e)&&pa(e)&&!Fe(e),Ko=e=>K(e)&&e.target?ht(e.target)?e.target.checked:e.target.value:e,Zo=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,el=(e,t)=>e.has(Zo(t)),tl=e=>{const t=e.constructor&&e.constructor.prototype;return K(t)&&t.hasOwnProperty("isPrototypeOf")},jr=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function se(e){let t;const r=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(jr&&(e instanceof Blob||s))&&(r||K(e)))if(t=r?[]:{},!r&&!tl(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=se(e[n]));else return e;return t}var Yt=e=>Array.isArray(e)?e.filter(Boolean):[],ee=e=>e===void 0,R=(e,t,r)=>{if(!t||!K(e))return r;const s=Yt(t.split(/[,[\].]+?/)).reduce((n,i)=>ie(n)?n:n[i],e);return ee(s)||s===e?ee(e[t])?r:e[t]:s},ve=e=>typeof e=="boolean",kr=e=>/^\w*$/.test(e),ya=e=>Yt(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Y=(e,t,r)=>{let s=-1;const n=kr(t)?[t]:ya(t),i=n.length,o=i-1;for(;++s<i;){const l=n[s];let m=r;if(s!==o){const f=e[l];m=K(f)||Array.isArray(f)?f:isNaN(+n[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=m,e=e[l]}};const ts={BLUR:"blur",FOCUS_OUT:"focusout"},ge={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ee={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};B.createContext(null);var rl=(e,t,r,s=!0)=>{const n={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(n,i,{get:()=>{const o=i;return t._proxyFormState[o]!==ge.all&&(t._proxyFormState[o]=!s||ge.all),e[o]}});return n};const sl=typeof window<"u"?p.useLayoutEffect:p.useEffect;var Ne=e=>typeof e=="string",al=(e,t,r,s,n)=>Ne(e)?(s&&t.watch.add(e),R(r,e,n)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),R(r,i))):(s&&(t.watchAll=!0),r),nl=(e,t,r,s,n)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:n||!0}}:{},ot=e=>Array.isArray(e)?e:[e],rs=()=>{let e=[];return{get observers(){return e},next:n=>{for(const i of e)i.next&&i.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(i=>i!==n)}}),unsubscribe:()=>{e=[]}}},yr=e=>ie(e)||!pa(e);function De(e,t){if(yr(e)||yr(t))return e===t;if(Fe(e)&&Fe(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const n of r){const i=e[n];if(!s.includes(n))return!1;if(n!=="ref"){const o=t[n];if(Fe(i)&&Fe(o)||K(i)&&K(o)||Array.isArray(i)&&Array.isArray(o)?!De(i,o):i!==o)return!1}}return!0}var oe=e=>K(e)&&!Object.keys(e).length,Nr=e=>e.type==="file",pe=e=>typeof e=="function",Rt=e=>{if(!jr)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},xa=e=>e.type==="select-multiple",Er=e=>e.type==="radio",il=e=>Er(e)||ht(e),or=e=>Rt(e)&&e.isConnected;function ol(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=ee(e)?s++:e[t[s++]];return e}function ll(e){for(const t in e)if(e.hasOwnProperty(t)&&!ee(e[t]))return!1;return!0}function te(e,t){const r=Array.isArray(t)?t:kr(t)?[t]:ya(t),s=r.length===1?e:ol(e,r),n=r.length-1,i=r[n];return s&&delete s[i],n!==0&&(K(s)&&oe(s)||Array.isArray(s)&&ll(s))&&te(e,r.slice(0,-1)),e}var ba=e=>{for(const t in e)if(pe(e[t]))return!0;return!1};function Dt(e,t={}){const r=Array.isArray(e);if(K(e)||r)for(const s in e)Array.isArray(e[s])||K(e[s])&&!ba(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Dt(e[s],t[s])):ie(e[s])||(t[s]=!0);return t}function wa(e,t,r){const s=Array.isArray(e);if(K(e)||s)for(const n in e)Array.isArray(e[n])||K(e[n])&&!ba(e[n])?ee(t)||yr(r[n])?r[n]=Array.isArray(e[n])?Dt(e[n],[]):{...Dt(e[n])}:wa(e[n],ie(t)?{}:t[n],r[n]):r[n]=!De(e[n],t[n]);return r}var et=(e,t)=>wa(e,t,Dt(t));const ss={value:!1,isValid:!1},as={value:!0,isValid:!0};var va=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ee(e[0].attributes.value)?ee(e[0].value)||e[0].value===""?as:{value:e[0].value,isValid:!0}:as:ss}return ss},ja=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>ee(e)?e:t?e===""?NaN:e&&+e:r&&Ne(e)?new Date(e):s?s(e):e;const ns={isValid:!1,value:null};var ka=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,ns):ns;function is(e){const t=e.ref;return Nr(t)?t.files:Er(t)?ka(e.refs).value:xa(t)?[...t.selectedOptions].map(({value:r})=>r):ht(t)?va(e.refs).value:ja(ee(t.value)?e.ref.value:t.value,e)}var cl=(e,t,r,s)=>{const n={};for(const i of e){const o=R(t,i);o&&Y(n,i,o._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:s}},Mt=e=>e instanceof RegExp,tt=e=>ee(e)?e:Mt(e)?e.source:K(e)?Mt(e.value)?e.value.source:e.value:e,os=e=>({isOnSubmit:!e||e===ge.onSubmit,isOnBlur:e===ge.onBlur,isOnChange:e===ge.onChange,isOnAll:e===ge.all,isOnTouch:e===ge.onTouched});const ls="AsyncFunction";var dl=e=>!!e&&!!e.validate&&!!(pe(e.validate)&&e.validate.constructor.name===ls||K(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===ls)),ul=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),cs=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const lt=(e,t,r,s)=>{for(const n of r||Object.keys(e)){const i=R(e,n);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],n)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(lt(l,t))break}else if(K(l)&&lt(l,t))break}}};function ds(e,t,r){const s=R(e,r);if(s||kr(r))return{error:s,name:r};const n=r.split(".");for(;n.length;){const i=n.join("."),o=R(t,i),l=R(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};n.pop()}return{name:r}}var ml=(e,t,r,s)=>{r(e);const{name:n,...i}=e;return oe(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!s||ge.all))},fl=(e,t,r)=>!e||!t||e===t||ot(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s))),hl=(e,t,r,s,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(t||e):(r?s.isOnBlur:n.isOnBlur)?!e:(r?s.isOnChange:n.isOnChange)?e:!0,gl=(e,t)=>!Yt(R(e,t)).length&&te(e,t),pl=(e,t,r)=>{const s=ot(R(e,r));return Y(s,"root",t[r]),Y(e,r,s),e},Ct=e=>Ne(e);function us(e,t,r="validate"){if(Ct(e)||Array.isArray(e)&&e.every(Ct)||ve(e)&&!e)return{type:r,message:Ct(e)?e:"",ref:t}}var qe=e=>K(e)&&!Mt(e)?e:{value:e,message:""},ms=async(e,t,r,s,n,i)=>{const{ref:o,refs:l,required:m,maxLength:f,minLength:u,min:x,max:j,pattern:k,validate:d,name:b,valueAsNumber:g,mount:E}=e._f,w=R(r,b);if(!E||t.has(b))return{};const O=l?l[0]:o,D=_=>{n&&O.reportValidity&&(O.setCustomValidity(ve(_)?"":_||""),O.reportValidity())},A={},z=Er(o),C=ht(o),L=z||C,$=(g||Nr(o))&&ee(o.value)&&ee(w)||Rt(o)&&o.value===""||w===""||Array.isArray(w)&&!w.length,ne=nl.bind(null,b,s,A),re=(_,I,V,G=Ee.maxLength,W=Ee.minLength)=>{const Z=_?I:V;A[b]={type:_?G:W,message:Z,ref:o,...ne(_?G:W,Z)}};if(i?!Array.isArray(w)||!w.length:m&&(!L&&($||ie(w))||ve(w)&&!w||C&&!va(l).isValid||z&&!ka(l).isValid)){const{value:_,message:I}=Ct(m)?{value:!!m,message:m}:qe(m);if(_&&(A[b]={type:Ee.required,message:I,ref:O,...ne(Ee.required,I)},!s))return D(I),A}if(!$&&(!ie(x)||!ie(j))){let _,I;const V=qe(j),G=qe(x);if(!ie(w)&&!isNaN(w)){const W=o.valueAsNumber||w&&+w;ie(V.value)||(_=W>V.value),ie(G.value)||(I=W<G.value)}else{const W=o.valueAsDate||new Date(w),Z=gt=>new Date(new Date().toDateString()+" "+gt),ue=o.type=="time",he=o.type=="week";Ne(V.value)&&w&&(_=ue?Z(w)>Z(V.value):he?w>V.value:W>new Date(V.value)),Ne(G.value)&&w&&(I=ue?Z(w)<Z(G.value):he?w<G.value:W<new Date(G.value))}if((_||I)&&(re(!!_,V.message,G.message,Ee.max,Ee.min),!s))return D(A[b].message),A}if((f||u)&&!$&&(Ne(w)||i&&Array.isArray(w))){const _=qe(f),I=qe(u),V=!ie(_.value)&&w.length>+_.value,G=!ie(I.value)&&w.length<+I.value;if((V||G)&&(re(V,_.message,I.message),!s))return D(A[b].message),A}if(k&&!$&&Ne(w)){const{value:_,message:I}=qe(k);if(Mt(_)&&!w.match(_)&&(A[b]={type:Ee.pattern,message:I,ref:o,...ne(Ee.pattern,I)},!s))return D(I),A}if(d){if(pe(d)){const _=await d(w,r),I=us(_,O);if(I&&(A[b]={...I,...ne(Ee.validate,I.message)},!s))return D(I.message),A}else if(K(d)){let _={};for(const I in d){if(!oe(_)&&!s)break;const V=us(await d[I](w,r),O,I);V&&(_={...V,...ne(I,V.message)},D(V.message),s&&(A[b]=_))}if(!oe(_)&&(A[b]={ref:O,..._},!s))return A}}return D(!0),A};const yl={mode:ge.onSubmit,reValidateMode:ge.onChange,shouldFocusError:!0};function xl(e={}){let t={...yl,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:pe(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const s={};let n=K(t.defaultValues)||K(t.values)?se(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:se(n),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m,f=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...u};const j={array:rs(),state:rs()},k=t.criteriaMode===ge.all,d=c=>h=>{clearTimeout(f),f=setTimeout(c,h)},b=async c=>{if(!t.disabled&&(u.isValid||x.isValid||c)){const h=t.resolver?oe((await C()).errors):await $(s,!0);h!==r.isValid&&j.state.next({isValid:h})}},g=(c,h)=>{!t.disabled&&(u.isValidating||u.validatingFields||x.isValidating||x.validatingFields)&&((c||Array.from(l.mount)).forEach(v=>{v&&(h?Y(r.validatingFields,v,h):te(r.validatingFields,v))}),j.state.next({validatingFields:r.validatingFields,isValidating:!oe(r.validatingFields)}))},E=(c,h=[],v,S,T=!0,N=!0)=>{if(S&&v&&!t.disabled){if(o.action=!0,N&&Array.isArray(R(s,c))){const P=v(R(s,c),S.argA,S.argB);T&&Y(s,c,P)}if(N&&Array.isArray(R(r.errors,c))){const P=v(R(r.errors,c),S.argA,S.argB);T&&Y(r.errors,c,P),gl(r.errors,c)}if((u.touchedFields||x.touchedFields)&&N&&Array.isArray(R(r.touchedFields,c))){const P=v(R(r.touchedFields,c),S.argA,S.argB);T&&Y(r.touchedFields,c,P)}(u.dirtyFields||x.dirtyFields)&&(r.dirtyFields=et(n,i)),j.state.next({name:c,isDirty:re(c,h),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Y(i,c,h)},w=(c,h)=>{Y(r.errors,c,h),j.state.next({errors:r.errors})},O=c=>{r.errors=c,j.state.next({errors:r.errors,isValid:!1})},D=(c,h,v,S)=>{const T=R(s,c);if(T){const N=R(i,c,ee(v)?R(n,c):v);ee(N)||S&&S.defaultChecked||h?Y(i,c,h?N:is(T._f)):V(c,N),o.mount&&b()}},A=(c,h,v,S,T)=>{let N=!1,P=!1;const U={name:c};if(!t.disabled){if(!v||S){(u.isDirty||x.isDirty)&&(P=r.isDirty,r.isDirty=U.isDirty=re(),N=P!==U.isDirty);const H=De(R(n,c),h);P=!!R(r.dirtyFields,c),H?te(r.dirtyFields,c):Y(r.dirtyFields,c,!0),U.dirtyFields=r.dirtyFields,N=N||(u.dirtyFields||x.dirtyFields)&&P!==!H}if(v){const H=R(r.touchedFields,c);H||(Y(r.touchedFields,c,v),U.touchedFields=r.touchedFields,N=N||(u.touchedFields||x.touchedFields)&&H!==v)}N&&T&&j.state.next(U)}return N?U:{}},z=(c,h,v,S)=>{const T=R(r.errors,c),N=(u.isValid||x.isValid)&&ve(h)&&r.isValid!==h;if(t.delayError&&v?(m=d(()=>w(c,v)),m(t.delayError)):(clearTimeout(f),m=null,v?Y(r.errors,c,v):te(r.errors,c)),(v?!De(T,v):T)||!oe(S)||N){const P={...S,...N&&ve(h)?{isValid:h}:{},errors:r.errors,name:c};r={...r,...P},j.state.next(P)}},C=async c=>{g(c,!0);const h=await t.resolver(i,t.context,cl(c||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return g(c),h},L=async c=>{const{errors:h}=await C(c);if(c)for(const v of c){const S=R(h,v);S?Y(r.errors,v,S):te(r.errors,v)}else r.errors=h;return h},$=async(c,h,v={valid:!0})=>{for(const S in c){const T=c[S];if(T){const{_f:N,...P}=T;if(N){const U=l.array.has(N.name),H=T._f&&dl(T._f);H&&u.validatingFields&&g([S],!0);const me=await ms(T,l.disabled,i,k,t.shouldUseNativeValidation&&!h,U);if(H&&u.validatingFields&&g([S]),me[N.name]&&(v.valid=!1,h))break;!h&&(R(me,N.name)?U?pl(r.errors,me,N.name):Y(r.errors,N.name,me[N.name]):te(r.errors,N.name))}!oe(P)&&await $(P,h,v)}}return v.valid},ne=()=>{for(const c of l.unMount){const h=R(s,c);h&&(h._f.refs?h._f.refs.every(v=>!or(v)):!or(h._f.ref))&&Gt(c)}l.unMount=new Set},re=(c,h)=>!t.disabled&&(c&&h&&Y(i,c,h),!De(gt(),n)),_=(c,h,v)=>al(c,l,{...o.mount?i:ee(h)?n:Ne(c)?{[c]:h}:h},v,h),I=c=>Yt(R(o.mount?i:n,c,t.shouldUnregister?R(n,c,[]):[])),V=(c,h,v={})=>{const S=R(s,c);let T=h;if(S){const N=S._f;N&&(!N.disabled&&Y(i,c,ja(h,N)),T=Rt(N.ref)&&ie(h)?"":h,xa(N.ref)?[...N.ref.options].forEach(P=>P.selected=T.includes(P.value)):N.refs?ht(N.ref)?N.refs.forEach(P=>{(!P.defaultChecked||!P.disabled)&&(Array.isArray(T)?P.checked=!!T.find(U=>U===P.value):P.checked=T===P.value||!!T)}):N.refs.forEach(P=>P.checked=P.value===T):Nr(N.ref)?N.ref.value="":(N.ref.value=T,N.ref.type||j.state.next({name:c,values:se(i)})))}(v.shouldDirty||v.shouldTouch)&&A(c,T,v.shouldTouch,v.shouldDirty,!0),v.shouldValidate&&he(c)},G=(c,h,v)=>{for(const S in h){if(!h.hasOwnProperty(S))return;const T=h[S],N=c+"."+S,P=R(s,N);(l.array.has(c)||K(T)||P&&!P._f)&&!Fe(T)?G(N,T,v):V(N,T,v)}},W=(c,h,v={})=>{const S=R(s,c),T=l.array.has(c),N=se(h);Y(i,c,N),T?(j.array.next({name:c,values:se(i)}),(u.isDirty||u.dirtyFields||x.isDirty||x.dirtyFields)&&v.shouldDirty&&j.state.next({name:c,dirtyFields:et(n,i),isDirty:re(c,N)})):S&&!S._f&&!ie(N)?G(c,N,v):V(c,N,v),cs(c,l)&&j.state.next({...r}),j.state.next({name:o.mount?c:void 0,values:se(i)})},Z=async c=>{o.mount=!0;const h=c.target;let v=h.name,S=!0;const T=R(s,v),N=H=>{S=Number.isNaN(H)||Fe(H)&&isNaN(H.getTime())||De(H,R(i,v,H))},P=os(t.mode),U=os(t.reValidateMode);if(T){let H,me;const pt=h.type?is(T._f):Ko(c),Se=c.type===ts.BLUR||c.type===ts.FOCUS_OUT,La=!ul(T._f)&&!t.resolver&&!R(r.errors,v)&&!T._f.deps||hl(Se,R(r.touchedFields,v),r.isSubmitted,U,P),Kt=cs(v,l,Se);Y(i,v,pt),Se?(T._f.onBlur&&T._f.onBlur(c),m&&m(0)):T._f.onChange&&T._f.onChange(c);const Zt=A(v,pt,Se),Fa=!oe(Zt)||Kt;if(!Se&&j.state.next({name:v,type:c.type,values:se(i)}),La)return(u.isValid||x.isValid)&&(t.mode==="onBlur"?Se&&b():Se||b()),Fa&&j.state.next({name:v,...Kt?{}:Zt});if(!Se&&Kt&&j.state.next({...r}),t.resolver){const{errors:Pr}=await C([v]);if(N(pt),S){const Ia=ds(r.errors,s,v),_r=ds(Pr,s,Ia.name||v);H=_r.error,v=_r.name,me=oe(Pr)}}else g([v],!0),H=(await ms(T,l.disabled,i,k,t.shouldUseNativeValidation))[v],g([v]),N(pt),S&&(H?me=!1:(u.isValid||x.isValid)&&(me=await $(s,!0)));S&&(T._f.deps&&he(T._f.deps),z(v,me,H,Zt))}},ue=(c,h)=>{if(R(r.errors,h)&&c.focus)return c.focus(),1},he=async(c,h={})=>{let v,S;const T=ot(c);if(t.resolver){const N=await L(ee(c)?c:T);v=oe(N),S=c?!T.some(P=>R(N,P)):v}else c?(S=(await Promise.all(T.map(async N=>{const P=R(s,N);return await $(P&&P._f?{[N]:P}:P)}))).every(Boolean),!(!S&&!r.isValid)&&b()):S=v=await $(s);return j.state.next({...!Ne(c)||(u.isValid||x.isValid)&&v!==r.isValid?{}:{name:c},...t.resolver||!c?{isValid:v}:{},errors:r.errors}),h.shouldFocus&&!S&&lt(s,ue,c?T:l.mount),S},gt=c=>{const h={...o.mount?i:n};return ee(c)?h:Ne(c)?R(h,c):c.map(v=>R(h,v))},Tr=(c,h)=>({invalid:!!R((h||r).errors,c),isDirty:!!R((h||r).dirtyFields,c),error:R((h||r).errors,c),isValidating:!!R(r.validatingFields,c),isTouched:!!R((h||r).touchedFields,c)}),Oa=c=>{c&&ot(c).forEach(h=>te(r.errors,h)),j.state.next({errors:c?r.errors:{}})},Cr=(c,h,v)=>{const S=(R(s,c,{_f:{}})._f||{}).ref,T=R(r.errors,c)||{},{ref:N,message:P,type:U,...H}=T;Y(r.errors,c,{...H,...h,ref:S}),j.state.next({name:c,errors:r.errors,isValid:!1}),v&&v.shouldFocus&&S&&S.focus&&S.focus()},Aa=(c,h)=>pe(c)?j.state.subscribe({next:v=>c(_(void 0,h),v)}):_(c,h,!0),Sr=c=>j.state.subscribe({next:h=>{fl(c.name,h.name,c.exact)&&ml(h,c.formState||u,_a,c.reRenderRoot)&&c.callback({values:{...i},...r,...h})}}).unsubscribe,Ra=c=>(o.mount=!0,x={...x,...c.formState},Sr({...c,formState:x})),Gt=(c,h={})=>{for(const v of c?ot(c):l.mount)l.mount.delete(v),l.array.delete(v),h.keepValue||(te(s,v),te(i,v)),!h.keepError&&te(r.errors,v),!h.keepDirty&&te(r.dirtyFields,v),!h.keepTouched&&te(r.touchedFields,v),!h.keepIsValidating&&te(r.validatingFields,v),!t.shouldUnregister&&!h.keepDefaultValue&&te(n,v);j.state.next({values:se(i)}),j.state.next({...r,...h.keepDirty?{isDirty:re()}:{}}),!h.keepIsValid&&b()},Or=({disabled:c,name:h})=>{(ve(c)&&o.mount||c||l.disabled.has(h))&&(c?l.disabled.add(h):l.disabled.delete(h))},Xt=(c,h={})=>{let v=R(s,c);const S=ve(h.disabled)||ve(t.disabled);return Y(s,c,{...v||{},_f:{...v&&v._f?v._f:{ref:{name:c}},name:c,mount:!0,...h}}),l.mount.add(c),v?Or({disabled:ve(h.disabled)?h.disabled:t.disabled,name:c}):D(c,!0,h.value),{...S?{disabled:h.disabled||t.disabled}:{},...t.progressive?{required:!!h.required,min:tt(h.min),max:tt(h.max),minLength:tt(h.minLength),maxLength:tt(h.maxLength),pattern:tt(h.pattern)}:{},name:c,onChange:Z,onBlur:Z,ref:T=>{if(T){Xt(c,h),v=R(s,c);const N=ee(T.value)&&T.querySelectorAll&&T.querySelectorAll("input,select,textarea")[0]||T,P=il(N),U=v._f.refs||[];if(P?U.find(H=>H===N):N===v._f.ref)return;Y(s,c,{_f:{...v._f,...P?{refs:[...U.filter(or),N,...Array.isArray(R(n,c))?[{}]:[]],ref:{type:N.type,name:c}}:{ref:N}}}),D(c,!1,void 0,N)}else v=R(s,c,{}),v._f&&(v._f.mount=!1),(t.shouldUnregister||h.shouldUnregister)&&!(el(l.array,c)&&o.action)&&l.unMount.add(c)}}},Qt=()=>t.shouldFocusError&&lt(s,ue,l.mount),Da=c=>{ve(c)&&(j.state.next({disabled:c}),lt(s,(h,v)=>{const S=R(s,v);S&&(h.disabled=S._f.disabled||c,Array.isArray(S._f.refs)&&S._f.refs.forEach(T=>{T.disabled=S._f.disabled||c}))},0,!1))},Ar=(c,h)=>async v=>{let S;v&&(v.preventDefault&&v.preventDefault(),v.persist&&v.persist());let T=se(i);if(j.state.next({isSubmitting:!0}),t.resolver){const{errors:N,values:P}=await C();r.errors=N,T=P}else await $(s);if(l.disabled.size)for(const N of l.disabled)Y(T,N,void 0);if(te(r.errors,"root"),oe(r.errors)){j.state.next({errors:{}});try{await c(T,v)}catch(N){S=N}}else h&&await h({...r.errors},v),Qt(),setTimeout(Qt);if(j.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:oe(r.errors)&&!S,submitCount:r.submitCount+1,errors:r.errors}),S)throw S},Ma=(c,h={})=>{R(s,c)&&(ee(h.defaultValue)?W(c,se(R(n,c))):(W(c,h.defaultValue),Y(n,c,se(h.defaultValue))),h.keepTouched||te(r.touchedFields,c),h.keepDirty||(te(r.dirtyFields,c),r.isDirty=h.defaultValue?re(c,se(R(n,c))):re()),h.keepError||(te(r.errors,c),u.isValid&&b()),j.state.next({...r}))},Rr=(c,h={})=>{const v=c?se(c):n,S=se(v),T=oe(c),N=T?n:S;if(h.keepDefaultValues||(n=v),!h.keepValues){if(h.keepDirtyValues){const P=new Set([...l.mount,...Object.keys(et(n,i))]);for(const U of Array.from(P))R(r.dirtyFields,U)?Y(N,U,R(i,U)):W(U,R(N,U))}else{if(jr&&ee(c))for(const P of l.mount){const U=R(s,P);if(U&&U._f){const H=Array.isArray(U._f.refs)?U._f.refs[0]:U._f.ref;if(Rt(H)){const me=H.closest("form");if(me){me.reset();break}}}}for(const P of l.mount)W(P,R(N,P))}i=se(N),j.array.next({values:{...N}}),j.state.next({values:{...N}})}l={mount:h.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!h.keepIsValid||!!h.keepDirtyValues,o.watch=!!t.shouldUnregister,j.state.next({submitCount:h.keepSubmitCount?r.submitCount:0,isDirty:T?!1:h.keepDirty?r.isDirty:!!(h.keepDefaultValues&&!De(c,n)),isSubmitted:h.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:T?{}:h.keepDirtyValues?h.keepDefaultValues&&i?et(n,i):r.dirtyFields:h.keepDefaultValues&&c?et(n,c):h.keepDirty?r.dirtyFields:{},touchedFields:h.keepTouched?r.touchedFields:{},errors:h.keepErrors?r.errors:{},isSubmitSuccessful:h.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Dr=(c,h)=>Rr(pe(c)?c(i):c,h),Pa=(c,h={})=>{const v=R(s,c),S=v&&v._f;if(S){const T=S.refs?S.refs[0]:S.ref;T.focus&&(T.focus(),h.shouldSelect&&pe(T.select)&&T.select())}},_a=c=>{r={...r,...c}},Mr={control:{register:Xt,unregister:Gt,getFieldState:Tr,handleSubmit:Ar,setError:Cr,_subscribe:Sr,_runSchema:C,_focusError:Qt,_getWatch:_,_getDirty:re,_setValid:b,_setFieldArray:E,_setDisabledField:Or,_setErrors:O,_getFieldArray:I,_reset:Rr,_resetDefaultValues:()=>pe(t.defaultValues)&&t.defaultValues().then(c=>{Dr(c,t.resetOptions),j.state.next({isLoading:!1})}),_removeUnmounted:ne,_disableForm:Da,_subjects:j,_proxyFormState:u,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(c){o=c},get _defaultValues(){return n},get _names(){return l},set _names(c){l=c},get _formState(){return r},get _options(){return t},set _options(c){t={...t,...c}}},subscribe:Ra,trigger:he,register:Xt,handleSubmit:Ar,watch:Aa,setValue:W,getValues:gt,reset:Dr,resetField:Ma,clearErrors:Oa,unregister:Gt,setError:Cr,setFocus:Pa,getFieldState:Tr};return{...Mr,formControl:Mr}}function Ke(e={}){const t=B.useRef(void 0),r=B.useRef(void 0),[s,n]=B.useState({isDirty:!1,isValidating:!1,isLoading:pe(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:pe(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:xl(e),formState:s},e.formControl&&e.defaultValues&&!pe(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,sl(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),B.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),B.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),B.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),B.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),B.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),B.useEffect(()=>{e.values&&!De(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,n(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),B.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=rl(s,i),t.current}const bl=()=>{const e=xr(),t=Ce(),{register:r,handleSubmit:s,formState:{errors:n}}=Ke(),i=async o=>{try{await t(Et(o)).unwrap(),M.success("Connexion réussie"),e("/")}catch{M.error("Identifiants invalides")}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsx("div",{children:a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Connexion à votre compte"})}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:s(i),children:[a.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),a.jsx("input",{...r("email",{required:"Email requis"}),type:"email",autoComplete:"email",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Adresse email"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"sr-only",children:"Mot de passe"}),a.jsx("input",{...r("password",{required:"Mot de passe requis"}),type:"password",autoComplete:"current-password",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Mot de passe"})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Se connecter"})})]})]})})};function wl({title:e,titleId:t,...r},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?p.createElement("title",{id:t},e):null,p.createElement("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v16.19l6.22-6.22a.75.75 0 1 1 1.06 1.06l-7.5 7.5a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 1 1 1.06-1.06l6.22 6.22V3a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const vl=p.forwardRef(wl);function jl({title:e,titleId:t,...r},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?p.createElement("title",{id:t},e):null,p.createElement("path",{fillRule:"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06l-6.22-6.22V21a.75.75 0 0 1-1.5 0V4.81l-6.22 6.22a.75.75 0 1 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const kl=p.forwardRef(jl),wt=({title:e,value:t,icon:r,trend:s,color:n})=>{const i={blue:"bg-blue-500",green:"bg-green-500",purple:"bg-purple-500",yellow:"bg-yellow-500"};return a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:e}),a.jsx("p",{className:"mt-2 text-3xl font-semibold text-gray-900 dark:text-white",children:t}),s!==void 0&&a.jsxs("div",{className:"mt-2 flex items-center text-sm",children:[s>0?a.jsx(kl,{className:"h-4 w-4 text-green-500 mr-1"}):a.jsx(vl,{className:"h-4 w-4 text-red-500 mr-1"}),a.jsxs("span",{className:s>0?"text-green-600":"text-red-600",children:[Math.abs(s),"%"]})]})]}),a.jsx("div",{className:`p-3 rounded-full ${i[n]} bg-opacity-10`,children:a.jsx(r,{className:`h-6 w-6 ${i[n].replace("bg-","text-")}`})})]})})};Xa.register(Qa,Ka,Za,en,tn,rn,sn,an,nn);const Nl=()=>{var l,m,f,u,x;const e=Ce(),{stats:t,recentActivities:r,loading:s,error:n}=ye(j=>j.dashboard);if(p.useEffect(()=>{e(it());const j=setInterval(()=>{e(it())},3e4);return()=>clearInterval(j)},[e]),s&&!t.totalUsers)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(n)return a.jsx("div",{className:"text-center py-8",children:a.jsxs("p",{className:"text-red-600 dark:text-red-400",children:["Erreur: ",n]})});const i={labels:["Planification","Actif","En pause","Terminé","Annulé"],datasets:[{data:[((l=t.projectsByStatus)==null?void 0:l.PLANNING)||0,((m=t.projectsByStatus)==null?void 0:m.ACTIVE)||0,((f=t.projectsByStatus)==null?void 0:f.ON_HOLD)||0,((u=t.projectsByStatus)==null?void 0:u.COMPLETED)||0,((x=t.projectsByStatus)==null?void 0:x.CANCELLED)||0],backgroundColor:["#3B82F6","#10B981","#F59E0B","#6366F1","#EF4444"]}]},o={labels:["Jan","Fév","Mar","Avr","Mai","Juin"],datasets:[{label:"Tâches terminées",data:t.taskCompletionTrend||[0,0,0,0,0,0],borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)"}]};return a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-8",children:"Dashboard"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(wt,{title:"Total Utilisateurs",value:t.totalUsers,icon:zt,trend:t.userGrowth,color:"blue"}),a.jsx(wt,{title:"Total Clients",value:t.totalClients,icon:fa,trend:t.clientGrowth,color:"green"}),a.jsx(wt,{title:"Projets Actifs",value:t.activeProjects,icon:ga,trend:t.projectGrowth,color:"purple"}),a.jsx(wt,{title:"Tâches Terminées",value:t.completedTasks,icon:Do,trend:t.taskCompletionRate,color:"yellow"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Répartition des projets"}),a.jsx("div",{className:"h-64",children:a.jsx(on,{data:i,options:{maintainAspectRatio:!1}})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Évolution des tâches terminées"}),a.jsx("div",{className:"h-64",children:a.jsx(ln,{data:o,options:{maintainAspectRatio:!1}})})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Activités récentes"})}),a.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:Array.isArray(r)&&r.length>0?r.map(j=>{var k,d;return a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[(k=j.user)==null?void 0:k.firstName," ",(d=j.user)==null?void 0:d.lastName]}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:j.description})]}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(j.createdAt).toLocaleString()})]})},j.id)}):a.jsx("div",{className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",children:"Aucune activité récente"})})]})]})},El=({isOpen:e,onClose:t,onSubmit:r,user:s})=>{const{register:n,handleSubmit:i,formState:{errors:o}}=Ke({defaultValues:s||{email:"",password:"",firstName:"",lastName:"",role:"USER"}});return e?a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:t}),a.jsxs("div",{className:"relative transform overflow-hidden rounded-lg bg-white dark:bg-gray-800 px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[a.jsx("div",{className:"absolute right-0 top-0 pr-4 pt-4",children:a.jsx("button",{type:"button",className:"rounded-md bg-white dark:bg-gray-800 text-gray-400 hover:text-gray-500",onClick:t,children:a.jsx(Qe,{className:"h-6 w-6"})})}),a.jsx("div",{className:"sm:flex sm:items-start",children:a.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[a.jsx("h3",{className:"text-lg font-semibold leading-6 text-gray-900 dark:text-white",children:s?"Modifier utilisateur":"Nouvel utilisateur"}),a.jsxs("form",{onSubmit:i(r),className:"mt-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),a.jsx("input",{type:"email",...n("email",{required:"Email requis"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600"}),o.email&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email.message})]}),!s&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Mot de passe"}),a.jsx("input",{type:"password",...n("password",{required:"Mot de passe requis",minLength:8}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600"}),o.password&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.password.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Prénom"}),a.jsx("input",{type:"text",...n("firstName",{required:"Prénom requis"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600"}),o.firstName&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.firstName.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nom"}),a.jsx("input",{type:"text",...n("lastName",{required:"Nom requis"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600"}),o.lastName&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.lastName.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Rôle"}),a.jsxs("select",{...n("role"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600",children:[a.jsx("option",{value:"USER",children:"Utilisateur"}),a.jsx("option",{value:"TECHNICIAN",children:"Technicien"}),a.jsx("option",{value:"PROJECT_MANAGER",children:"Chef de projet"}),a.jsx("option",{value:"ADMIN",children:"Administrateur"})]})]}),a.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[a.jsx("button",{type:"submit",className:"inline-flex w-full justify-center rounded-md bg-primary-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-500 sm:ml-3 sm:w-auto",children:s?"Modifier":"Créer"}),a.jsx("button",{type:"button",onClick:t,className:"mt-3 inline-flex w-full justify-center rounded-md bg-white dark:bg-gray-700 px-3 py-2 text-sm font-semibold text-gray-900 dark:text-gray-300 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 sm:mt-0 sm:w-auto",children:"Annuler"})]})]})]})})]})]})}):null},Tl=()=>{const e=Ce(),{users:t,loading:r,error:s}=ye(d=>d.users),[n,i]=p.useState(!1),[o,l]=p.useState(null);p.useEffect(()=>{e(nt())},[e]);const m=async d=>{console.log("Creating user with data:",d);try{await e(Zs(d)).unwrap(),M.success("Utilisateur créé avec succès"),i(!1),e(nt())}catch(b){console.error("Create error:",b),M.error(b.message||"Erreur lors de la création")}},f=async d=>{try{await e(ea({id:o.id,...d})).unwrap(),M.success("Utilisateur modifié avec succès"),i(!1),l(null)}catch{M.error("Erreur lors de la modification")}},u=async d=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cet utilisateur ?"))try{await e(ta(d)).unwrap(),M.success("Utilisateur supprimé avec succès")}catch{M.error("Erreur lors de la suppression")}},x=()=>{l(null),i(!0)},j=d=>{l(d),i(!0)};if(r)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(s)return a.jsx("div",{className:"text-center py-8",children:a.jsxs("p",{className:"text-red-600 dark:text-red-400",children:["Erreur: ",s]})});const k=Array.isArray(t)?t:[];return a.jsxs("div",{children:[a.jsxs("div",{className:"sm:flex sm:items-center",children:[a.jsxs("div",{className:"sm:flex-auto",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Utilisateurs"}),a.jsx("p",{className:"mt-2 text-sm text-gray-700 dark:text-gray-300",children:"Liste de tous les utilisateurs du système"})]}),a.jsx("div",{className:"mt-4 sm:ml-16 sm:mt-0 sm:flex-none",children:a.jsxs("button",{type:"button",onClick:x,className:"block rounded-md bg-primary-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-primary-500",children:[a.jsx(Je,{className:"h-5 w-5 inline-block mr-1"}),"Ajouter un utilisateur"]})})]}),k.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"Aucun utilisateur trouvé"}):a.jsx("div",{className:"mt-8 flow-root",children:a.jsx("div",{className:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:a.jsx("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:a.jsx("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 sm:rounded-lg",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-300 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Nom"}),a.jsx("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Email"}),a.jsx("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Rôle"}),a.jsx("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Statut"}),a.jsx("th",{className:"relative py-3.5 pl-3 pr-4 sm:pr-6",children:a.jsx("span",{className:"sr-only",children:"Actions"})})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700 bg-white dark:bg-gray-900",children:k.map(d=>a.jsxs("tr",{children:[a.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-900 dark:text-white",children:[d.firstName," ",d.lastName]}),a.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-400",children:d.email}),a.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-400",children:d.role}),a.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:a.jsx("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${d.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:d.isActive?"Actif":"Inactif"})}),a.jsxs("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:[a.jsx("button",{onClick:()=>j(d),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",children:a.jsx(Ht,{className:"h-5 w-5 inline"})}),a.jsx("button",{onClick:()=>u(d.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:a.jsx(ft,{className:"h-5 w-5 inline"})})]})]},d.id))})]})})})})}),a.jsx(El,{isOpen:n,onClose:()=>{i(!1),l(null)},onSubmit:o?f:m,user:o})]})},Cl=({isOpen:e,onClose:t,onSubmit:r,client:s})=>{const{register:n,handleSubmit:i,formState:{errors:o}}=Ke({defaultValues:s||{name:"",email:"",phone:"",address:"",website:""}});return e?a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:t}),a.jsxs("div",{className:"relative transform overflow-hidden rounded-lg bg-white dark:bg-gray-800 px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[a.jsx("div",{className:"absolute right-0 top-0 pr-4 pt-4",children:a.jsx("button",{type:"button",className:"rounded-md bg-white dark:bg-gray-800 text-gray-400 hover:text-gray-500",onClick:t,children:a.jsx(Qe,{className:"h-6 w-6"})})}),a.jsx("div",{className:"sm:flex sm:items-start",children:a.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[a.jsx("h3",{className:"text-lg font-semibold leading-6 text-gray-900 dark:text-white",children:s?"Modifier client":"Nouveau client"}),a.jsxs("form",{onSubmit:i(r),className:"mt-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nom"}),a.jsx("input",{type:"text",...n("name",{required:"Nom requis"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600"}),o.name&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.name.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),a.jsx("input",{type:"email",...n("email",{required:"Email requis"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600"}),o.email&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Téléphone"}),a.jsx("input",{type:"text",...n("phone"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Adresse"}),a.jsx("input",{type:"text",...n("address"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Site web"}),a.jsx("input",{type:"url",...n("website"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600"})]}),a.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[a.jsx("button",{type:"submit",className:"inline-flex w-full justify-center rounded-md bg-primary-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-500 sm:ml-3 sm:w-auto",children:s?"Modifier":"Créer"}),a.jsx("button",{type:"button",onClick:t,className:"mt-3 inline-flex w-full justify-center rounded-md bg-white dark:bg-gray-700 px-3 py-2 text-sm font-semibold text-gray-900 dark:text-gray-300 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 sm:mt-0 sm:w-auto",children:"Annuler"})]})]})]})})]})]})}):null},Sl=()=>{const e=Ce(),{clients:t,loading:r,error:s}=ye(d=>d.clients),[n,i]=p.useState(!1),[o,l]=p.useState(null);p.useEffect(()=>{e(He())},[e]);const m=async d=>{try{await e(ra(d)).unwrap(),M.success("Client créé avec succès"),i(!1),e(He())}catch(b){M.error(b.message||"Erreur lors de la création")}},f=async d=>{try{await e(sa({id:o.id,...d})).unwrap(),M.success("Client modifié avec succès"),i(!1),l(null)}catch{M.error("Erreur lors de la modification")}},u=async d=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer ce client ?"))try{await e(aa(d)).unwrap(),M.success("Client supprimé avec succès")}catch{M.error("Erreur lors de la suppression")}},x=()=>{l(null),i(!0)},j=d=>{l(d),i(!0)};if(r)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(s)return a.jsx("div",{className:"text-center py-8",children:a.jsxs("p",{className:"text-red-600 dark:text-red-400",children:["Erreur: ",s]})});const k=Array.isArray(t)?t:[];return a.jsxs("div",{children:[a.jsxs("div",{className:"sm:flex sm:items-center",children:[a.jsxs("div",{className:"sm:flex-auto",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Clients"}),a.jsx("p",{className:"mt-2 text-sm text-gray-700 dark:text-gray-300",children:"Gérez vos clients et leurs informations"})]}),a.jsx("div",{className:"mt-4 sm:ml-16 sm:mt-0 sm:flex-none",children:a.jsxs("button",{type:"button",onClick:x,className:"block rounded-md bg-primary-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-primary-500",children:[a.jsx(Je,{className:"h-5 w-5 inline-block mr-1"}),"Nouveau client"]})})]}),k.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"Aucun client trouvé"}):a.jsx("div",{className:"mt-8 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:k.map(d=>{var b;return a.jsxs("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:d.name}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:d.email}),d.phone&&a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:d.phone}),a.jsx("div",{className:"mt-4",children:a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[((b=d._count)==null?void 0:b.projects)||0," projet(s)"]})})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 flex justify-between",children:[a.jsx("button",{onClick:()=>j(d),className:"font-medium text-primary-600 hover:text-primary-500 dark:text-primary-400 dark:hover:text-primary-300",children:a.jsx(Ht,{className:"h-5 w-5 inline"})}),a.jsx("button",{onClick:()=>u(d.id),className:"font-medium text-red-600 hover:text-red-500 dark:text-red-400 dark:hover:text-red-300",children:a.jsx(ft,{className:"h-5 w-5 inline"})})]})]},d.id)})}),a.jsx(Cl,{isOpen:n,onClose:()=>{i(!1),l(null)},onSubmit:o?f:m,client:o})]})},Ol=({isOpen:e,onClose:t,onSubmit:r,project:s})=>{const n=Ce(),{clients:i}=ye(f=>f.clients),{register:o,handleSubmit:l,formState:{errors:m}}=Ke({defaultValues:s||{name:"",description:"",clientId:"",startDate:new Date().toISOString().split("T")[0],endDate:"",budget:"",status:"PLANNING"}});return p.useEffect(()=>{e&&i.length===0&&n(He())},[e,i.length,n]),e?a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:t}),a.jsxs("div",{className:"relative transform overflow-hidden rounded-lg bg-white dark:bg-gray-800 px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[a.jsx("div",{className:"absolute right-0 top-0 pr-4 pt-4",children:a.jsx("button",{type:"button",className:"rounded-md bg-white dark:bg-gray-800 text-gray-400 hover:text-gray-500",onClick:t,children:a.jsx(Qe,{className:"h-6 w-6"})})}),a.jsx("div",{className:"sm:flex sm:items-start",children:a.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[a.jsx("h3",{className:"text-lg font-semibold leading-6 text-gray-900 dark:text-white",children:s?"Modifier le projet":"Nouveau projet"}),a.jsxs("form",{onSubmit:l(r),className:"mt-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nom du projet"}),a.jsx("input",{type:"text",...o("name",{required:"Nom requis"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600"}),m.name&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.name.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),a.jsx("textarea",{...o("description"),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Client"}),a.jsxs("select",{...o("clientId",{required:"Client requis"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600",children:[a.jsx("option",{value:"",children:"Sélectionner un client"}),i.map(f=>a.jsx("option",{value:f.id,children:f.name},f.id))]}),m.clientId&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.clientId.message})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date de début"}),a.jsx("input",{type:"date",...o("startDate",{required:"Date de début requise"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600"}),m.startDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.startDate.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date de fin"}),a.jsx("input",{type:"date",...o("endDate",{required:"Date de fin requise"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600"}),m.endDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.endDate.message})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Budget (€)"}),a.jsx("input",{type:"number",...o("budget"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Statut"}),a.jsxs("select",{...o("status"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600",children:[a.jsx("option",{value:"PLANNING",children:"Planification"}),a.jsx("option",{value:"ACTIVE",children:"Actif"}),a.jsx("option",{value:"ON_HOLD",children:"En pause"}),a.jsx("option",{value:"COMPLETED",children:"Terminé"}),a.jsx("option",{value:"CANCELLED",children:"Annulé"})]})]}),a.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[a.jsx("button",{type:"submit",className:"inline-flex w-full justify-center rounded-md bg-primary-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-500 sm:ml-3 sm:w-auto",children:s?"Modifier":"Créer"}),a.jsx("button",{type:"button",onClick:t,className:"mt-3 inline-flex w-full justify-center rounded-md bg-white dark:bg-gray-700 px-3 py-2 text-sm font-semibold text-gray-900 dark:text-gray-300 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 sm:mt-0 sm:w-auto",children:"Annuler"})]})]})]})})]})]})}):null},Al=()=>{const e=Ce(),{projects:t,loading:r,error:s}=ye(d=>d.projects),[n,i]=p.useState(!1),[o,l]=p.useState(null);p.useEffect(()=>{e(ze())},[e]);const m=async d=>{try{await e(na(d)).unwrap(),M.success("Projet créé avec succès"),i(!1),e(ze())}catch(b){M.error(b.message||"Erreur lors de la création")}},f=async d=>{try{await e(ia({id:o.id,...d})).unwrap(),M.success("Projet modifié avec succès"),i(!1),l(null)}catch{M.error("Erreur lors de la modification")}},u=async d=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer ce projet ?"))try{await e(oa(d)).unwrap(),M.success("Projet supprimé avec succès")}catch{M.error("Erreur lors de la suppression")}},x=()=>{l(null),i(!0)},j=d=>{l(d),i(!0)};if(r)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(s)return a.jsx("div",{className:"text-center py-8",children:a.jsxs("p",{className:"text-red-600 dark:text-red-400",children:["Erreur: ",s]})});const k=Array.isArray(t)?t:[];return a.jsxs("div",{children:[a.jsxs("div",{className:"sm:flex sm:items-center",children:[a.jsxs("div",{className:"sm:flex-auto",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Projets"}),a.jsx("p",{className:"mt-2 text-sm text-gray-700 dark:text-gray-300",children:"Gérez tous vos projets et suivez leur progression"})]}),a.jsx("div",{className:"mt-4 sm:ml-16 sm:mt-0 sm:flex-none",children:a.jsxs("button",{type:"button",onClick:x,className:"block rounded-md bg-primary-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-primary-500",children:[a.jsx(Je,{className:"h-5 w-5 inline-block mr-1"}),"Nouveau projet"]})})]}),k.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"Aucun projet trouvé"}):a.jsx("div",{className:"mt-8 grid grid-cols-1 gap-6 lg:grid-cols-2",children:k.map(d=>{var b,g;return a.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:d.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${d.status==="ACTIVE"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":d.status==="COMPLETED"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:d.status}),a.jsx("button",{onClick:()=>j(d),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300",children:a.jsx(Ht,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>u(d.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:a.jsx(ft,{className:"h-5 w-5"})})]})]}),a.jsxs("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:["Client: ",(b=d.client)==null?void 0:b.name]}),a.jsxs("div",{className:"mt-4 flex items-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(ha,{className:"h-4 w-4 mr-1"}),a.jsxs("span",{children:[new Date(d.startDate).toLocaleDateString()," -",new Date(d.endDate).toLocaleDateString()]})]}),a.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(zt,{className:"h-4 w-4 mr-1"}),a.jsxs("span",{children:[((g=d.users)==null?void 0:g.length)||0," membres"]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:`${d.progress}%`}})}),a.jsxs("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:[d.progress,"% complété"]})]}),a.jsx("div",{className:"mt-6",children:a.jsx(lr,{to:`/projects/${d.id}`,className:"text-primary-600 hover:text-primary-500 dark:text-primary-400 dark:hover:text-primary-300 font-medium text-sm",children:"Voir détails →"})})]})},d.id)})}),a.jsx(Ol,{isOpen:n,onClose:()=>{i(!1),l(null)},onSubmit:o?f:m,project:o})]})};function be(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function $e(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Na=6048e5,Rl=864e5;let Dl={};function Jt(){return Dl}function dt(e,t){var l,m,f,u;const r=Jt(),s=(t==null?void 0:t.weekStartsOn)??((m=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((u=(f=r.locale)==null?void 0:f.options)==null?void 0:u.weekStartsOn)??0,n=be(e),i=n.getDay(),o=(i<s?7:0)+i-s;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function Pt(e){return dt(e,{weekStartsOn:1})}function Ea(e){const t=be(e),r=t.getFullYear(),s=$e(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const n=Pt(s),i=$e(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Pt(i);return t.getTime()>=n.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function fs(e){const t=be(e);return t.setHours(0,0,0,0),t}function hs(e){const t=be(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Ml(e,t){const r=fs(e),s=fs(t),n=+r-hs(r),i=+s-hs(s);return Math.round((n-i)/Rl)}function Pl(e){const t=Ea(e),r=$e(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Pt(r)}function _l(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ll(e){if(!_l(e)&&typeof e!="number")return!1;const t=be(e);return!isNaN(Number(t))}function Fl(e){const t=be(e),r=$e(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Il={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Bl=(e,t,r)=>{let s;const n=Il[e];return typeof n=="string"?s=n:t===1?s=n.one:s=n.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Ye(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Vl={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$l={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ul={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ql={date:Ye({formats:Vl,defaultWidth:"full"}),time:Ye({formats:$l,defaultWidth:"full"}),dateTime:Ye({formats:Ul,defaultWidth:"full"})},Wl={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Hl=(e,t,r,s)=>Wl[e];function je(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let n;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;n=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;n=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return n[i]}}const zl={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Yl={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Jl={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Gl={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Xl={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ql={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Kl=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Zl={ordinalNumber:Kl,era:je({values:zl,defaultWidth:"wide"}),quarter:je({values:Yl,defaultWidth:"wide",argumentCallback:e=>e-1}),month:je({values:Jl,defaultWidth:"wide"}),day:je({values:Gl,defaultWidth:"wide"}),dayPeriod:je({values:Xl,defaultWidth:"wide",formattingValues:Ql,defaultFormattingWidth:"wide"})};function ke(e){return(t,r={})=>{const s=r.width,n=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(n);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(l)?tc(l,x=>x.test(o)):ec(l,x=>x.test(o));let f;f=e.valueCallback?e.valueCallback(m):m,f=r.valueCallback?r.valueCallback(f):f;const u=t.slice(o.length);return{value:f,rest:u}}}function ec(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function tc(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Ta(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const n=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(n.length);return{value:o,rest:l}}}const rc=/^(\d+)(th|st|nd|rd)?/i,sc=/\d+/i,ac={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nc={any:[/^b/i,/^(a|c)/i]},ic={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},oc={any:[/1/i,/2/i,/3/i,/4/i]},lc={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cc={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dc={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},uc={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mc={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fc={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hc={ordinalNumber:Ta({matchPattern:rc,parsePattern:sc,valueCallback:e=>parseInt(e,10)}),era:ke({matchPatterns:ac,defaultMatchWidth:"wide",parsePatterns:nc,defaultParseWidth:"any"}),quarter:ke({matchPatterns:ic,defaultMatchWidth:"wide",parsePatterns:oc,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ke({matchPatterns:lc,defaultMatchWidth:"wide",parsePatterns:cc,defaultParseWidth:"any"}),day:ke({matchPatterns:dc,defaultMatchWidth:"wide",parsePatterns:uc,defaultParseWidth:"any"}),dayPeriod:ke({matchPatterns:mc,defaultMatchWidth:"any",parsePatterns:fc,defaultParseWidth:"any"})},gc={code:"en-US",formatDistance:Bl,formatLong:ql,formatRelative:Hl,localize:Zl,match:hc,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pc(e){const t=be(e);return Ml(t,Fl(t))+1}function yc(e){const t=be(e),r=+Pt(t)-+Pl(t);return Math.round(r/Na)+1}function Ca(e,t){var u,x,j,k;const r=be(e),s=r.getFullYear(),n=Jt(),i=(t==null?void 0:t.firstWeekContainsDate)??((x=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:x.firstWeekContainsDate)??n.firstWeekContainsDate??((k=(j=n.locale)==null?void 0:j.options)==null?void 0:k.firstWeekContainsDate)??1,o=$e(e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=dt(o,t),m=$e(e,0);m.setFullYear(s,0,i),m.setHours(0,0,0,0);const f=dt(m,t);return r.getTime()>=l.getTime()?s+1:r.getTime()>=f.getTime()?s:s-1}function xc(e,t){var l,m,f,u;const r=Jt(),s=(t==null?void 0:t.firstWeekContainsDate)??((m=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(f=r.locale)==null?void 0:f.options)==null?void 0:u.firstWeekContainsDate)??1,n=Ca(e,t),i=$e(e,0);return i.setFullYear(n,0,s),i.setHours(0,0,0,0),dt(i,t)}function bc(e,t){const r=be(e),s=+dt(r,t)-+xc(r,t);return Math.round(s/Na)+1}function q(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const Ae={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return q(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):q(r+1,2)},d(e,t){return q(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return q(e.getHours()%12||12,t.length)},H(e,t){return q(e.getHours(),t.length)},m(e,t){return q(e.getMinutes(),t.length)},s(e,t){return q(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),n=Math.trunc(s*Math.pow(10,r-3));return q(n,t.length)}},We={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gs={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),n=s>0?s:1-s;return r.ordinalNumber(n,{unit:"year"})}return Ae.y(e,t)},Y:function(e,t,r,s){const n=Ca(e,s),i=n>0?n:1-n;if(t==="YY"){const o=i%100;return q(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):q(i,t.length)},R:function(e,t){const r=Ea(e);return q(r,t.length)},u:function(e,t){const r=e.getFullYear();return q(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return q(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return q(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return Ae.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return q(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const n=bc(e,s);return t==="wo"?r.ordinalNumber(n,{unit:"week"}):q(n,t.length)},I:function(e,t,r){const s=yc(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):q(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ae.d(e,t)},D:function(e,t,r){const s=pc(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):q(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const n=e.getDay(),i=(n-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return q(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const n=e.getDay(),i=(n-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return q(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),n=s===0?7:s;switch(t){case"i":return String(n);case"ii":return q(n,t.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let n;switch(s===12?n=We.noon:s===0?n=We.midnight:n=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let n;switch(s>=17?n=We.evening:s>=12?n=We.afternoon:s>=4?n=We.morning:n=We.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Ae.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ae.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):q(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):q(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ae.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ae.s(e,t)},S:function(e,t){return Ae.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return ys(s);case"XXXX":case"XX":return _e(s);case"XXXXX":case"XXX":default:return _e(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return ys(s);case"xxxx":case"xx":return _e(s);case"xxxxx":case"xxx":default:return _e(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ps(s,":");case"OOOO":default:return"GMT"+_e(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ps(s,":");case"zzzz":default:return"GMT"+_e(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return q(s,t.length)},T:function(e,t,r){const s=e.getTime();return q(s,t.length)}};function ps(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),n=Math.trunc(s/60),i=s%60;return i===0?r+String(n):r+String(n)+t+q(i,2)}function ys(e,t){return e%60===0?(e>0?"-":"+")+q(Math.abs(e)/60,2):_e(e,t)}function _e(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),n=q(Math.trunc(s/60),2),i=q(s%60,2);return r+n+t+i}const xs=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Sa=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},wc=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],n=r[2];if(!n)return xs(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",xs(s,t)).replace("{{time}}",Sa(n,t))},vc={p:Sa,P:wc},jc=/^D+$/,kc=/^Y+$/,Nc=["D","DD","YY","YYYY"];function Ec(e){return jc.test(e)}function Tc(e){return kc.test(e)}function Cc(e,t,r){const s=Sc(e,t,r);if(console.warn(s),Nc.includes(e))throw new RangeError(s)}function Sc(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Oc=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ac=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rc=/^'([^]*?)'?$/,Dc=/''/g,Mc=/[a-zA-Z]/;function bs(e,t,r){var u,x,j,k,d,b,g,E;const s=Jt(),n=(r==null?void 0:r.locale)??s.locale??gc,i=(r==null?void 0:r.firstWeekContainsDate)??((x=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:x.firstWeekContainsDate)??s.firstWeekContainsDate??((k=(j=s.locale)==null?void 0:j.options)==null?void 0:k.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((b=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:b.weekStartsOn)??s.weekStartsOn??((E=(g=s.locale)==null?void 0:g.options)==null?void 0:E.weekStartsOn)??0,l=be(e);if(!Ll(l))throw new RangeError("Invalid time value");let m=t.match(Ac).map(w=>{const O=w[0];if(O==="p"||O==="P"){const D=vc[O];return D(w,n.formatLong)}return w}).join("").match(Oc).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const O=w[0];if(O==="'")return{isToken:!1,value:Pc(w)};if(gs[O])return{isToken:!0,value:w};if(O.match(Mc))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return{isToken:!1,value:w}});n.localize.preprocessor&&(m=n.localize.preprocessor(l,m));const f={firstWeekContainsDate:i,weekStartsOn:o,locale:n};return m.map(w=>{if(!w.isToken)return w.value;const O=w.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Tc(O)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Ec(O))&&Cc(O,t,String(e));const D=gs[O[0]];return D(l,O,n.localize,f)}).join("")}function Pc(e){const t=e.match(Rc);return t?t[1].replace(Dc,"'"):e}const _c={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},Lc=(e,t,r)=>{let s;const n=_c[e];return typeof n=="string"?s=n:t===1?s=n.one:s=n.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+s:"il y a "+s:s},Fc={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},Ic={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Bc={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Vc={date:Ye({formats:Fc,defaultWidth:"full"}),time:Ye({formats:Ic,defaultWidth:"full"}),dateTime:Ye({formats:Bc,defaultWidth:"full"})},$c={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},Uc=(e,t,r,s)=>$c[e],qc={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},Wc={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},Hc={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},zc={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},Yc={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},Jc=(e,t)=>{const r=Number(e),s=t==null?void 0:t.unit;if(r===0)return"0";const n=["year","week","hour","minute","second"];let i;return r===1?i=s&&n.includes(s)?"ère":"er":i="ème",r+i},Gc=["MMM","MMMM"],Xc={preprocessor:(e,t)=>e.getDate()===1||!t.some(s=>s.isToken&&Gc.includes(s.value))?t:t.map(s=>s.isToken&&s.value==="do"?{isToken:!0,value:"d"}:s),ordinalNumber:Jc,era:je({values:qc,defaultWidth:"wide"}),quarter:je({values:Wc,defaultWidth:"wide",argumentCallback:e=>e-1}),month:je({values:Hc,defaultWidth:"wide"}),day:je({values:zc,defaultWidth:"wide"}),dayPeriod:je({values:Yc,defaultWidth:"wide"})},Qc=/^(\d+)(ième|ère|ème|er|e)?/i,Kc=/\d+/i,Zc={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},ed={any:[/^av/i,/^ap/i]},td={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},rd={any:[/1/i,/2/i,/3/i,/4/i]},sd={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},ad={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},nd={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},id={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},od={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},ld={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},cd={ordinalNumber:Ta({matchPattern:Qc,parsePattern:Kc,valueCallback:e=>parseInt(e)}),era:ke({matchPatterns:Zc,defaultMatchWidth:"wide",parsePatterns:ed,defaultParseWidth:"any"}),quarter:ke({matchPatterns:td,defaultMatchWidth:"wide",parsePatterns:rd,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ke({matchPatterns:sd,defaultMatchWidth:"wide",parsePatterns:ad,defaultParseWidth:"any"}),day:ke({matchPatterns:nd,defaultMatchWidth:"wide",parsePatterns:id,defaultParseWidth:"any"}),dayPeriod:ke({matchPatterns:od,defaultMatchWidth:"any",parsePatterns:ld,defaultParseWidth:"any"})},ws={code:"fr",formatDistance:Lc,formatLong:Vc,formatRelative:Uc,localize:Xc,match:cd,options:{weekStartsOn:1,firstWeekContainsDate:4}},dd=({tasks:e,viewMode:t=Re.Day,onTaskClick:r,onDateChange:s,onProgressChange:n})=>a.jsx("div",{className:"gantt-container bg-white dark:bg-gray-800 rounded-lg p-4",children:e.length>0&&a.jsx(cn,{tasks:e,viewMode:t,onClick:r,onDateChange:s,onProgressChange:n,listCellWidth:"",columnWidth:65,ganttHeight:400})}),ud=({isOpen:e,onClose:t,onSubmit:r,task:s,projectUsers:n,projectTasks:i})=>{var E;const[o,l]=p.useState(((E=s==null?void 0:s.dependencies)==null?void 0:E.map(w=>w.dependsOnTaskId))||[]),{register:m,handleSubmit:f,formState:{errors:u},watch:x}=Ke({defaultValues:s||{title:"",description:"",assignedToId:"",startDate:new Date().toISOString().split("T")[0],endDate:"",status:"TODO",progress:0,estimatedHours:"",actualHours:""}}),j=x("startDate"),k=x("estimatedHours");if(p.useEffect(()=>{if(j&&k){const w=new Date(j),O=Math.ceil(parseFloat(k)/8);new Date(w).setDate(w.getDate()+O)}},[j,k]),!e)return null;const d=i.filter(w=>w.id!==(s==null?void 0:s.id)),b=w=>{l(O=>O.includes(w)?O.filter(D=>D!==w):[...O,w])},g=w=>{r({...w,dependencies:o,estimatedHours:parseFloat(w.estimatedHours)||null,actualHours:parseFloat(w.actualHours)||null})};return a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:t}),a.jsxs("div",{className:"relative transform overflow-hidden rounded-lg bg-white dark:bg-gray-800 px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-2xl sm:p-6",children:[a.jsx("div",{className:"absolute right-0 top-0 pr-4 pt-4",children:a.jsx("button",{type:"button",className:"rounded-md bg-white dark:bg-gray-800 text-gray-400 hover:text-gray-500",onClick:t,children:a.jsx(Qe,{className:"h-6 w-6"})})}),a.jsx("div",{className:"sm:flex sm:items-start",children:a.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[a.jsx("h3",{className:"text-lg font-semibold leading-6 text-gray-900 dark:text-white",children:s?"Modifier la tâche":"Nouvelle tâche"}),a.jsxs("form",{onSubmit:f(g),className:"mt-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Titre"}),a.jsx("input",{type:"text",...m("title",{required:"Titre requis"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600"}),u.title&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.title.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),a.jsx("textarea",{...m("description"),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Assigné à"}),a.jsxs("select",{...m("assignedToId"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600",children:[a.jsx("option",{value:"",children:"Non assigné"}),n.map(w=>a.jsxs("option",{value:w.user.id,children:[w.user.firstName," ",w.user.lastName," (",w.role,")"]},w.user.id))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date de début"}),a.jsx("input",{type:"date",...m("startDate",{required:"Date de début requise"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600"}),u.startDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.startDate.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date de fin"}),a.jsx("input",{type:"date",...m("endDate",{required:"Date de fin requise"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600"}),u.endDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.endDate.message})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Statut"}),a.jsxs("select",{...m("status"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600",children:[a.jsx("option",{value:"TODO",children:"À faire"}),a.jsx("option",{value:"IN_PROGRESS",children:"En cours"}),a.jsx("option",{value:"REVIEW",children:"En révision"}),a.jsx("option",{value:"DONE",children:"Terminé"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Progression (%)"}),a.jsx("input",{type:"number",min:"0",max:"100",...m("progress",{min:0,max:100}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Temps estimé (heures)"}),a.jsx("input",{type:"number",step:"0.5",min:"0",...m("estimatedHours",{min:0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600",placeholder:"Ex: 8"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Temps réel (heures)"}),a.jsx("input",{type:"number",step:"0.5",min:"0",...m("actualHours",{min:0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600",placeholder:"Ex: 10"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Dépendances (cette tâche dépend de :)"}),d.length>0?a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-md p-2",children:d.map(w=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:o.includes(w.id),onChange:()=>b(w.id),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsxs("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:[w.title,w.status==="DONE"&&a.jsx("span",{className:"ml-2 text-xs text-green-600 dark:text-green-400",children:"✓ Terminée"})]})]},w.id))}):a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Aucune autre tâche disponible"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Une tâche avec des dépendances ne peut commencer que lorsque toutes ses dépendances sont terminées."})]}),a.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[a.jsx("button",{type:"submit",className:"inline-flex w-full justify-center rounded-md bg-primary-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-500 sm:ml-3 sm:w-auto",children:s?"Modifier":"Créer"}),a.jsx("button",{type:"button",onClick:t,className:"mt-3 inline-flex w-full justify-center rounded-md bg-white dark:bg-gray-700 px-3 py-2 text-sm font-semibold text-gray-900 dark:text-gray-300 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 sm:mt-0 sm:w-auto",children:"Annuler"})]})]})]})})]})]})})},md=()=>{var O,D,A,z;const{id:e}=Wa(),t=xr(),r=Ce(),{currentProject:s,loading:n}=ye(C=>C.projects),[i,o]=p.useState(Re.Day),[l,m]=p.useState(!1),[f,u]=p.useState(null);if(p.useEffect(()=>{e&&r(Te(e))},[r,e]),n||!s)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});const x=((O=s.tasks)==null?void 0:O.map(C=>{var L;return{id:C.id,name:C.title,start:new Date(C.startDate||s.startDate),end:new Date(C.endDate||s.endDate),progress:C.progress||0,type:"task",dependencies:((L=C.dependencies)==null?void 0:L.map($=>$.dependsOnTaskId))||[],isDisabled:!1,styles:{progressColor:C.status==="DONE"?"#10b981":"#3b82f6",progressSelectedColor:C.status==="DONE"?"#059669":"#1d4ed8"}}}))||[],j=C=>{const L=s.tasks.find($=>$.id===C.id);u(L),m(!0)},k=async(C,L,$)=>{try{await r(ir({projectId:e,taskId:C.id,data:{startDate:L.toISOString(),endDate:$.toISOString()}})).unwrap(),M.success("Dates mises à jour"),r(Te(e))}catch{M.error("Erreur lors de la mise à jour")}},d=async(C,L)=>{try{await r(ir({projectId:e,taskId:C.id,data:{progress:L}})).unwrap(),M.success("Progression mise à jour"),r(Te(e))}catch{M.error("Erreur lors de la mise à jour")}},b=async C=>{console.log("Creating task with data:",C);try{const L={...C,projectId:e,progress:parseInt(C.progress)||0};console.log("Formatted task data:",L),await r(co(L)).unwrap(),M.success("Tâche créée avec succès"),m(!1),r(Te(e))}catch(L){console.error("Create task error:",L),M.error(L.message||"Erreur lors de la création")}},g=async C=>{try{await r(ir({projectId:e,taskId:f.id,data:C})).unwrap(),M.success("Tâche mise à jour"),m(!1),u(null),r(Te(e))}catch{M.error("Erreur lors de la mise à jour")}},E=async C=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cette tâche ?"))try{await r(uo({projectId:e,taskId:C})).unwrap(),M.success("Tâche supprimée"),r(Te(e))}catch{M.error("Erreur lors de la suppression")}},w=()=>{u(null),m(!0)};return a.jsxs("div",{children:[a.jsx("div",{className:"mb-6",children:a.jsxs("button",{onClick:()=>t("/projects"),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:[a.jsx(No,{className:"h-4 w-4 mr-1"}),"Retour aux projets"]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.name}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:s.description})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${s.status==="ACTIVE"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":s.status==="COMPLETED"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":s.status==="ON_HOLD"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:s.status})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(ha,{className:"h-5 w-5 mr-2"}),a.jsxs("span",{children:[bs(new Date(s.startDate),"dd MMM yyyy",{locale:ws})," -",bs(new Date(s.endDate),"dd MMM yyyy",{locale:ws})]})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(Po,{className:"h-5 w-5 mr-2"}),a.jsxs("span",{children:["Progression: ",s.progress||0,"%"]})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(zt,{className:"h-5 w-5 mr-2"}),a.jsxs("span",{children:[((D=s.users)==null?void 0:D.length)||0," membres"]})]})]}),s.budget&&a.jsxs("div",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:["Budget: ",new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(s.budget)]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-4 mb-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Diagramme de Gantt"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:w,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700",children:[a.jsx(Je,{className:"h-4 w-4 mr-1"}),"Nouvelle tâche"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>o(Re.Day),className:`px-3 py-1 rounded ${i===Re.Day?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`,children:"Jour"}),a.jsx("button",{onClick:()=>o(Re.Week),className:`px-3 py-1 rounded ${i===Re.Week?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`,children:"Semaine"}),a.jsx("button",{onClick:()=>o(Re.Month),className:`px-3 py-1 rounded ${i===Re.Month?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`,children:"Mois"})]})]})]})}),x.length>0?a.jsx(dd,{tasks:x,viewMode:i,onTaskClick:j,onDateChange:k,onProgressChange:d}):a.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-8 text-center",children:[a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Aucune tâche pour ce projet"}),a.jsxs("button",{onClick:w,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700",children:[a.jsx(Je,{className:"h-5 w-5 mr-2"}),"Créer la première tâche"]})]}),a.jsxs("div",{className:"mt-6 bg-white dark:bg-gray-800 shadow rounded-lg",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Liste des tâches (",((A=s.tasks)==null?void 0:A.length)||0,")"]})}),a.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:(z=s.tasks)==null?void 0:z.map(C=>a.jsx("div",{className:"px-6 py-4 hover:bg-gray-50 dark:hover:bg-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:C.title}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:C.description}),a.jsxs("div",{className:"mt-1 flex flex-wrap gap-4 text-xs text-gray-500 dark:text-gray-400",children:[C.assignedTo&&a.jsxs("span",{children:["Assigné à: ",C.assignedTo.firstName," ",C.assignedTo.lastName]}),C.estimatedHours&&a.jsxs("span",{children:["Temps estimé: ",C.estimatedHours,"h"]}),C.actualHours&&a.jsxs("span",{children:["Temps réel: ",C.actualHours,"h"]}),C.dependencies&&C.dependencies.length>0&&a.jsxs("span",{className:"text-amber-600 dark:text-amber-400",children:["Dépend de: ",C.dependencies.map(L=>L.dependsOnTask.title).join(", ")]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${C.status==="DONE"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":C.status==="IN_PROGRESS"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":C.status==="REVIEW"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:C.status}),a.jsx("div",{className:"w-32 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:`${C.progress||0}%`}})}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[C.progress||0,"%"]}),a.jsx("button",{onClick:()=>E(C.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:text-red-300",children:a.jsx(ft,{className:"h-5 w-5"})})]})]})},C.id))})]}),a.jsx(ud,{isOpen:l,onClose:()=>{m(!1),u(null)},onSubmit:f?g:b,task:f,projectUsers:s.users||[],projectTasks:s.tasks||[]})]})},fd=({isOpen:e,onClose:t,onSubmit:r,note:s})=>{const{projects:n}=ye(g=>g.projects),{register:i,handleSubmit:o,formState:{errors:l},setValue:m}=Ke({defaultValues:s||{title:"",content:"",projectId:"",tags:[]}}),[f,u]=p.useState(""),[x,j]=p.useState((s==null?void 0:s.tags)||[]);if(p.useEffect(()=>{s&&j(s.tags||[])},[s]),!e)return null;const k=()=>{if(f.trim()&&!x.includes(f.trim())){const g=[...x,f.trim()];j(g),m("tags",g),u("")}},d=g=>{const E=x.filter(w=>w!==g);j(E),m("tags",E)},b=g=>{r({...g,tags:x})};return a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:t}),a.jsxs("div",{className:"relative transform overflow-hidden rounded-lg bg-white dark:bg-gray-800 px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[a.jsx("div",{className:"absolute right-0 top-0 pr-4 pt-4",children:a.jsx("button",{type:"button",className:"rounded-md bg-white dark:bg-gray-800 text-gray-400 hover:text-gray-500",onClick:t,children:a.jsx(Qe,{className:"h-6 w-6"})})}),a.jsx("div",{className:"sm:flex sm:items-start",children:a.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[a.jsx("h3",{className:"text-lg font-semibold leading-6 text-gray-900 dark:text-white",children:s?"Modifier la note":"Nouvelle note"}),a.jsxs("form",{onSubmit:o(b),className:"mt-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Titre"}),a.jsx("input",{type:"text",...i("title",{required:"Titre requis"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600"}),l.title&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.title.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Contenu"}),a.jsx("textarea",{...i("content",{required:"Contenu requis"}),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600"}),l.content&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.content.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Projet (optionnel)"}),a.jsxs("select",{...i("projectId"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600",children:[a.jsx("option",{value:"",children:"Aucun projet"}),n.map(g=>a.jsx("option",{value:g.id,children:g.name},g.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tags"}),a.jsxs("div",{className:"mt-1 flex gap-2",children:[a.jsx("input",{type:"text",value:f,onChange:g=>u(g.target.value),onKeyPress:g=>g.key==="Enter"&&(g.preventDefault(),k()),className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600",placeholder:"Ajouter un tag"}),a.jsx("button",{type:"button",onClick:k,className:"rounded-md bg-primary-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-500",children:"Ajouter"})]}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:x.map((g,E)=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",children:[g,a.jsx("button",{type:"button",onClick:()=>d(g),className:"ml-1 text-gray-400 hover:text-gray-600",children:"×"})]},E))})]}),a.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[a.jsx("button",{type:"submit",className:"inline-flex w-full justify-center rounded-md bg-primary-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-500 sm:ml-3 sm:w-auto",children:s?"Modifier":"Créer"}),a.jsx("button",{type:"button",onClick:t,className:"mt-3 inline-flex w-full justify-center rounded-md bg-white dark:bg-gray-700 px-3 py-2 text-sm font-semibold text-gray-900 dark:text-gray-300 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 sm:mt-0 sm:w-auto",children:"Annuler"})]})]})]})})]})]})})},hd=()=>{const e=Ce(),{notes:t,loading:r,error:s}=ye(d=>d.notes),[n,i]=p.useState(!1),[o,l]=p.useState(null);p.useEffect(()=>{e(Tt()),e(ze())},[e]);const m=async d=>{try{await e(la(d)).unwrap(),M.success("Note créée avec succès"),i(!1)}catch(b){M.error(b.message||"Erreur lors de la création")}},f=async d=>{try{await e(ca({id:o.id,...d})).unwrap(),M.success("Note modifiée avec succès"),i(!1),l(null)}catch{M.error("Erreur lors de la modification")}},u=async d=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cette note ?"))try{await e(da(d)).unwrap(),M.success("Note supprimée avec succès")}catch{M.error("Erreur lors de la suppression")}},x=()=>{l(null),i(!0)},j=d=>{l(d),i(!0)};if(r)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(s)return a.jsx("div",{className:"text-center py-8",children:a.jsxs("p",{className:"text-red-600 dark:text-red-400",children:["Erreur: ",s]})});const k=Array.isArray(t)?t:[];return a.jsxs("div",{children:[a.jsxs("div",{className:"sm:flex sm:items-center",children:[a.jsxs("div",{className:"sm:flex-auto",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Notes"}),a.jsx("p",{className:"mt-2 text-sm text-gray-700 dark:text-gray-300",children:"Créez et gérez vos notes de projet"})]}),a.jsx("div",{className:"mt-4 sm:ml-16 sm:mt-0 sm:flex-none",children:a.jsxs("button",{type:"button",onClick:x,className:"block rounded-md bg-primary-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-primary-500",children:[a.jsx(Je,{className:"h-5 w-5 inline-block mr-1"}),"Nouvelle note"]})})]}),k.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"Aucune note trouvée"}):a.jsx("div",{className:"mt-8 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:k.map(d=>{var b,g;return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-lg transition-shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:d.title}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>j(d),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300",children:a.jsx(Ht,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>u(d.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:a.jsx(ft,{className:"h-5 w-5"})})]})]}),a.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400 line-clamp-3",children:d.content}),d.project&&a.jsxs("p",{className:"mt-3 text-sm text-primary-600 dark:text-primary-400",children:["Projet: ",d.project.name]}),d.tags&&d.tags.length>0&&a.jsx("div",{className:"mt-3 flex flex-wrap gap-1",children:d.tags.map((E,w)=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",children:[a.jsx(Yo,{className:"h-3 w-3 mr-1"}),E]},w))}),a.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[a.jsxs("span",{children:["Par ",(b=d.author)==null?void 0:b.firstName," ",(g=d.author)==null?void 0:g.lastName]}),a.jsx("span",{children:new Date(d.updatedAt).toLocaleDateString()})]})]},d.id)})}),a.jsx(fd,{isOpen:n,onClose:()=>{i(!1),l(null)},onSubmit:o?f:m,note:o})]})};class gd extends p.Component{constructor(){super(...arguments);Lr(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,s){console.error("Uncaught error:",r,s)}render(){var r;return this.state.hasError?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Une erreur est survenue"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:(r=this.state.error)==null?void 0:r.message}),a.jsx("button",{onClick:()=>window.location.reload(),className:"bg-primary-600 text-white px-4 py-2 rounded hover:bg-primary-700",children:"Recharger la page"})]})}):this.props.children}}const pd=({children:e})=>{const{isAuthenticated:t}=jo();return t?a.jsx(a.Fragment,{children:e}):a.jsx(Ya,{to:"/login"})};function yd(){return a.jsx(Ga,{store:ma,children:a.jsx(gd,{children:a.jsx(Ha,{children:a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsxs(za,{children:[a.jsx(Oe,{path:"/login",element:a.jsx(bl,{})}),a.jsxs(Oe,{path:"/",element:a.jsx(pd,{children:a.jsx(Qo,{})}),children:[a.jsx(Oe,{index:!0,element:a.jsx(Nl,{})}),a.jsx(Oe,{path:"users",element:a.jsx(Tl,{})}),a.jsx(Oe,{path:"clients",element:a.jsx(Sl,{})}),a.jsx(Oe,{path:"projects",element:a.jsx(Al,{})}),a.jsx(Oe,{path:"projects/:id",element:a.jsx(md,{})}),a.jsx(Oe,{path:"notes",element:a.jsx(hd,{})})]})]}),a.jsx(dr,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})]})})})})}const xd=localStorage.getItem("darkMode")==="true";xd&&document.documentElement.classList.add("dark");cr.createRoot(document.getElementById("root")).render(a.jsx(B.StrictMode,{children:a.jsx(yd,{})}));
